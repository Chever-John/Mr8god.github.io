<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Mr8god&#39;s blog</title>
  
  <subtitle>coding,coding,always coding!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://mr8god.cn/"/>
  <updated>2020-06-01T15:14:53.102Z</updated>
  <id>https://mr8god.cn/</id>
  
  <author>
    <name>Mr8god</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>VMess</title>
    <link href="https://mr8god.cn/2020/06/01/JaVMess/"/>
    <id>https://mr8god.cn/2020/06/01/JaVMess/</id>
    <published>2020-06-01T15:10:54.000Z</published>
    <updated>2020-06-01T15:14:53.102Z</updated>
    
    <content type="html"><![CDATA[<h2 id="VMess-协议"><a href="#VMess-协议" class="headerlink" title="VMess 协议"></a>VMess 协议</h2><p>VMess 协议是由 V2Ray 原创并使用于 V2Ray 的加密传输协议。在 V2Ray 上客户端与服务器的通信主要是通过 VMess 协议通信。</p><p>V2Ray 使用 inbound 和 outbound 的概念，这个概念非常清晰地体现了数据包的流动方向，同时也使得 V2Ray 功能强大复杂的同时而不混乱，结构清晰明了。简单来说，V2Ray 就是一个盒子，这个盒子有出口和入口，我们将数据包通过某个入口放进这个盒子里，然后这个盒子以某种机制（这个机制其实就是路由，后面会讲到）决定这个数据包走哪个出口并将数据包发出去。建议选看一下 V2Ray 的工作原理。</p><p><strong>解压密码：detechn或detechn.com</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;VMess-协议&quot;&gt;&lt;a href=&quot;#VMess-协议&quot; class=&quot;headerlink&quot; title=&quot;VMess 协议&quot;&gt;&lt;/a&gt;VMess 协议&lt;/h2&gt;&lt;p&gt;VMess 协议是由 V2Ray 原创并使用于 V2Ray 的加密传输协议。在 V2Ray 
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Java日记——jdbc连接数据库（包括MySQL和SQLserver）</title>
    <link href="https://mr8god.cn/2020/06/01/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94jdbc%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E5%8C%85%E6%8B%ACMySQL%E5%92%8CSQLserver%EF%BC%89/"/>
    <id>https://mr8god.cn/2020/06/01/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94jdbc%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E5%8C%85%E6%8B%ACMySQL%E5%92%8CSQLserver%EF%BC%89/</id>
    <published>2020-06-01T00:45:34.000Z</published>
    <updated>2020-06-01T00:51:08.464Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java日记——jdbc连接数据库（包括MySQL和SQLserver）"><a href="#Java日记——jdbc连接数据库（包括MySQL和SQLserver）" class="headerlink" title="Java日记——jdbc连接数据库（包括MySQL和SQLserver）"></a>Java日记——jdbc连接数据库（包括MySQL和SQLserver）</h1><p><a href="https://app.yinxiang.com/shard/s24/nl/23656734/ec8bce6c-7ca4-41b3-aee7-8c13238a4c5c" target="_blank" rel="noopener">(12条消息)jdbc配置总结（sql server）_数据库_resumebb的博客-CSDN博客</a></p><p><a href="https://app.yinxiang.com/shard/s24/nl/23656734/e1c9c958-635d-49c2-a0ea-bd52c403939e" target="_blank" rel="noopener">(12条消息)使用Intellij Idea 创建一个JDBC连接数据库的程序步骤_数据库_zhc_24的博客-CSDN博客</a></p><p>给了两个jdbc配置SqlServer和MySQL的教程，地址是在我的印象笔记&gt;专业知识&gt;Java中，就是这样。</p><p>需要注意的一点是</p><p>这里边MySQL在连接的时候，会遇到两种串（虽然SqlServer也会遇到两种串）</p><p>分别是：“com.mysql.cj.jdbc.Driver”和“com.mysql.jdbc.Driver”</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java日记——jdbc连接数据库（包括MySQL和SQLserver）&quot;&gt;&lt;a href=&quot;#Java日记——jdbc连接数据库（包括MySQL和SQLserver）&quot; class=&quot;headerlink&quot; title=&quot;Java日记——jdbc连接数据库（包括
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java日记" scheme="https://mr8god.cn/tags/Java%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Java注释</title>
    <link href="https://mr8god.cn/2020/05/31/Java/Java%E6%97%A5%E8%AE%B0/java%E6%B3%A8%E9%87%8A/"/>
    <id>https://mr8god.cn/2020/05/31/Java/Java%E6%97%A5%E8%AE%B0/java%E6%B3%A8%E9%87%8A/</id>
    <published>2020-05-31T13:51:33.000Z</published>
    <updated>2020-05-31T13:53:28.637Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Java-注释"><a href="#Java-注释" class="headerlink" title="Java 注释"></a>Java 注释</h2><p><a href="https://www.zhihu.com/question/47449512/answer/658228092" target="_blank" rel="noopener">https://www.zhihu.com/question/47449512/answer/658228092</a></p><p>这一篇讲的挺棒的</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Java-注释&quot;&gt;&lt;a href=&quot;#Java-注释&quot; class=&quot;headerlink&quot; title=&quot;Java 注释&quot;&gt;&lt;/a&gt;Java 注释&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/47449512/a
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java日记" scheme="https://mr8god.cn/tags/Java%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>第一部分——算法基础知识</title>
    <link href="https://mr8god.cn/2020/05/27/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E2%80%94%E2%80%94%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>https://mr8god.cn/2020/05/27/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%E2%80%94%E2%80%94%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</id>
    <published>2020-05-26T17:12:39.000Z</published>
    <updated>2020-05-29T15:32:45.954Z</updated>
    
    <content type="html"><![CDATA[<h1 id="第一部分——算法基础知识"><a href="#第一部分——算法基础知识" class="headerlink" title="第一部分——算法基础知识"></a>第一部分——算法基础知识</h1><blockquote><p>主要简单介绍一下算法的表达方法、将在本书中用到的一些设计策略，以及算法分析中用到的许多基本思想。</p><p>第一章，是对算法及其在现代计算系统中地位的一个综述。本章给出了算法的定义和一些算法的例子。算法就是一项技术，就像硬件、图像用户界面、面向对象系统和网络一样。</p><p>第二章，给出了书中的第一批算法，解决的是对n个数进行排序的问题。以一种伪代码形式给出的。我们分析的排序算法是插入排序，它采用了一种增量式的做法；另外还分析了归并排序，它采用了一种递归技术，称为”分治法“。这两种算法所需的时间都随n的值而增长，但增长的速度是不同的。</p><p>第三章，给出了这种表示法的准确定义，称为渐进表示</p><p>第四章，更深入地讨论了第二章引入的分治法，给出了更多分治法的例子，例如用于两方阵相乘的Strassen方法。第四章也包含了求解递归式的方法。递归式用于描述递归算法的运行时间。“主方法”是一种功能很强的技术，通常用于解决分治算法中出现的递归式。</p><p>第五章介绍了概率分析和随机化算法。概率分析一般用于确定一些算法的运行时间，在这些算法中，由于同一规模的不同输入可能有着内在的概率分布，因而在这些不同输入之下，算法的运行时间可能有所不同。于是我们求算法的平均时间。</p></blockquote><h2 id="第一章：算法在计算中的作用"><a href="#第一章：算法在计算中的作用" class="headerlink" title="第一章：算法在计算中的作用"></a>第一章：算法在计算中的作用</h2><h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><p>算法（algorithm）就是任何良定义的计算过程，该过程取某个值或值的集合作为<strong>输入</strong>并产生某个值或值的集合作为<strong>输出</strong>。这样算法就是一个把输入转换成输出的计算步骤的一个序列。</p><p>对于给定的应用，哪个算法更好，这依赖于以下因素：将被排序的项数、这些项已被稍微排序的程度、关于项值的可能限制、计算机的体系结构、以及将使用的存储设备的种类（主存、磁盘或磁带）</p><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>数据结构是一种存储和组织数据的方式，旨在便于访问和修改。没有一种单一的数据结构对所有用途均有效，所以重要的是知道几种数据结构的优势和局限</p><h3 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h3><p>一些算法设计与分析的技术，以便能够自行设计算法、证明其正确性和理解其效率。如第九章中求中位数和顺序统计量，第二十三章中计算最小生成树，第二十六章中确定网络中的最大流，第四章中的分治策略，第十五章中的动态规划，第十七章中的摊还分析。</p><h3 id="难题"><a href="#难题" class="headerlink" title="难题"></a>难题</h3><p>比如说，NP完全问题</p><h3 id="并行"><a href="#并行" class="headerlink" title="并行"></a>并行</h3><p>一种利用当前多核特性的算法，比如说第二十七章的充分利用多核的“多线程”算法的一个模型。从理论的角度来看，该模型具有一些优点，它形成了几个成功的计算机程序的基础，包括一个国际象棋博弈程序。</p><h2 id="第二章：算法基础"><a href="#第二章：算法基础" class="headerlink" title="第二章：算法基础"></a>第二章：算法基础</h2><p>本章要讲一个贯穿全书的框架，后续的算法设计与分析都是在这个框架中进行的。这一部分内容基本上是独立的。</p><h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>假设我们在排序一个序列，一个以n个元素的数组的形式出现的序列。</p><p>简单介绍一下插入排序，对于少量元素的排序，它是一个有效的算法。刚开始我们手里（假设）的数组是空的，然后每一次我们取数组都拿他和手里的数组进行比较大小，然后插入他恰当的位置。</p><p>这边提供了两种排序实现，事实上，第一种是网络上找的我，第二种是我根据书中的伪代码写出来的</p><h3 id="插入排序实现一（来源网络）"><a href="#插入排序实现一（来源网络）" class="headerlink" title="插入排序实现一（来源网络）"></a>插入排序实现一（来源网络）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">insertion_sort</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] a)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> t = a[i];</span><br><span class="line">            <span class="keyword">int</span> j = i - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (a[j] &gt; t) &#123;</span><br><span class="line">                a[j + <span class="number">1</span>] = a[j];</span><br><span class="line">                j--;</span><br><span class="line">                <span class="keyword">if</span> (j == -<span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            a[j + <span class="number">1</span>] = t;</span><br><span class="line">            System.out.println(Arrays.toString(a));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>主要的想法就是，<br>首先是将当前的a[i]赋给一个临时变量t ，<br>然后a[i-1]先和t进行比较，如果a[i-1]&gt;t，那么a[i-1]会覆盖掉a[i]；<br>然后a[i-2]先和t进行比较，如果a[i-2]&gt;t，那么a[i-2]会覆盖掉a[i-1]；<br>终于有一天，a[n]&lt;t了，这个时候t会覆盖掉a[n+1]，对没错，你没有看错，t会覆盖掉a[n+1]。<br>自此实现了插入排序</p><h3 id="插入排序的伪代码"><a href="#插入排序的伪代码" class="headerlink" title="插入排序的伪代码"></a>插入排序的伪代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">INSERTION-SORT(A)</span><br><span class="line">for j &#x3D; 2 to A.length</span><br><span class="line">key &#x3D; A[j]</span><br><span class="line">i &#x3D; j - 1</span><br><span class="line">while i &gt; 0 and A[i] &gt; key</span><br><span class="line">A[i + 1] &#x3D; A[i]</span><br><span class="line">i &#x3D; i -1</span><br><span class="line">A[i + 1] &#x3D; key</span><br></pre></td></tr></table></figure><h3 id="插入排序实现二（根据伪代码）"><a href="#插入排序实现二（根据伪代码）" class="headerlink" title="插入排序实现二（根据伪代码）"></a>插入排序实现二（根据伪代码）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">insertion_sort_second</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] a)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; a.length; j++) &#123;</span><br><span class="line">            <span class="keyword">int</span> key = a[j];</span><br><span class="line">            <span class="keyword">int</span> i = j - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &gt; <span class="number">0</span> &amp;&amp; a[i] &gt; key) &#123;</span><br><span class="line">                a[i + <span class="number">1</span>] = a[i];</span><br><span class="line">                i = i - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            a[i + <span class="number">1</span>] = key;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试例子"><a href="#测试例子" class="headerlink" title="测试例子"></a>测试例子</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;        </span><br><span class="line">    <span class="keyword">int</span>[] arr = &#123;<span class="number">11</span>, <span class="number">16</span>, <span class="number">22</span>, -<span class="number">3</span>, <span class="number">99</span>, <span class="number">0</span>, <span class="number">16</span>, <span class="number">6</span>, -<span class="number">1</span>, <span class="number">99</span>&#125;;         </span><br><span class="line">    System.out.println(<span class="string">"Before insertion sort:"</span>);        </span><br><span class="line">    System.out.println(Arrays.toString(arr));         </span><br><span class="line">    System.out.println(<span class="string">"In insertion sort:"</span>);        </span><br><span class="line">    insertion_sort.sort(arr);         </span><br><span class="line">    System.out.println(<span class="string">"After insertion sort:"</span>);        </span><br><span class="line">    System.out.println(Arrays.toString(arr));    </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h2><p>下次一定</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;第一部分——算法基础知识&quot;&gt;&lt;a href=&quot;#第一部分——算法基础知识&quot; class=&quot;headerlink&quot; title=&quot;第一部分——算法基础知识&quot;&gt;&lt;/a&gt;第一部分——算法基础知识&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;主要简单介绍一下算法的表达方法、将
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>数据结构与算法的浅谈</title>
    <link href="https://mr8god.cn/2020/05/25/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E7%9A%84%E6%B5%85%E8%B0%88/"/>
    <id>https://mr8god.cn/2020/05/25/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E7%9A%84%E6%B5%85%E8%B0%88/</id>
    <published>2020-05-25T14:11:12.000Z</published>
    <updated>2020-05-25T14:29:03.243Z</updated>
    
    <content type="html"><![CDATA[<h1 id="数据结构与算法的浅谈"><a href="#数据结构与算法的浅谈" class="headerlink" title="数据结构与算法的浅谈"></a>数据结构与算法的浅谈</h1><blockquote><p>数据结构：</p><p>是相互之间存在一种或多种特定关系的数据元素的集合。</p></blockquote><p>If you give someone a program, you will frustrate them for a day; if you teach them how to program, you will frustrate them for a lifetime.</p><p>数据结构是一门研究非数值计算的程序设计问题中的操作对象，以及它们之间的关系和操作等相关问题的学科。</p><p>数据的逻辑结构和存储结构及其操作，开创了数据结构的课程体系。其实质就是选择一种好的结构，再加上设计一种好的算法。</p><h2 id="基本术语"><a href="#基本术语" class="headerlink" title="基本术语"></a>基本术语</h2><h3 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h3><p>definition：是描述客观事物的符号，是计算机中可以操作的对象，是能被计算机识别，并输入给计算机处理的符号集合。数据不仅仅包含整型、实型等数值类型，还包括了字符及声音、图像、视频等非数值类型。</p><h3 id="数据元素"><a href="#数据元素" class="headerlink" title="数据元素"></a>数据元素</h3><p>definition：是组成数据的、有一定意义的基本单位，在计算机中通常作为整体处理。也被称为记录。</p><h3 id="数据项"><a href="#数据项" class="headerlink" title="数据项"></a>数据项</h3><p>definition：一个数据元素可以由若干个数据项组成。</p><p>数据项是数据不可分割的最小单位。</p><h3 id="数据对象"><a href="#数据对象" class="headerlink" title="数据对象"></a>数据对象</h3><p>definition：是性质相同的数据元素的集合，是数据的子集。</p><h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>definition：简单来说，就是关系，比如分子结构，就是说组成分子的原子之间的排列方式。严格点说，结构是指各个组成部分相互搭配和排列的方式。在现实世界中，不同数据元素之间不是独立的，而是存在一种特定的关系的，我们讲这些关系成为结构。</p><p>数据结构：是相互之间存在一种或多种特定关系的数据元素的集合。</p><h2 id="逻辑结构和物理结构"><a href="#逻辑结构和物理结构" class="headerlink" title="逻辑结构和物理结构"></a>逻辑结构和物理结构</h2><h3 id="逻辑结构："><a href="#逻辑结构：" class="headerlink" title="逻辑结构："></a>逻辑结构：</h3><p>是指数据对象中数据元素之间的相互关系。其实这也是我们今后最需要关注的问题。逻辑结构分为以下四种：</p><h4 id="1-集合结构"><a href="#1-集合结构" class="headerlink" title="1.集合结构"></a>1.集合结构</h4><p>集合结构：集合结构中的数据元素除了同属于一个集合外，它们之间没有其他关系。各个数据元素是“平等”的，它们的共同属性是“同属于一个集合”。数据结构中的集合关系就类似于数学中的集合。</p><h4 id="2-线性结构"><a href="#2-线性结构" class="headerlink" title="2.线性结构"></a>2.线性结构</h4><p>线性结构：线性结构中的数据元素之间是一对一的关系。</p><h4 id="3-树形结构"><a href="#3-树形结构" class="headerlink" title="3.树形结构"></a>3.树形结构</h4><p>树形结构：树形结构中的数据元素之间存在一种一对多的层次关系。</p><h4 id="4-图形结构"><a href="#4-图形结构" class="headerlink" title="4.图形结构"></a>4.图形结构</h4><p>图形结构：图形结构的数据元素是多对多的关系。</p><h3 id="物理结构："><a href="#物理结构：" class="headerlink" title="物理结构："></a>物理结构：</h3><p>物理结构：是指数据的逻辑结构在计算机中的存储形式。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;数据结构与算法的浅谈&quot;&gt;&lt;a href=&quot;#数据结构与算法的浅谈&quot; class=&quot;headerlink&quot; title=&quot;数据结构与算法的浅谈&quot;&gt;&lt;/a&gt;数据结构与算法的浅谈&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;数据结构：&lt;/p&gt;
&lt;p&gt;是相互之间存在一种或多种
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="数据结构" scheme="https://mr8god.cn/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CodesFromUbuntu</title>
    <link href="https://mr8god.cn/2020/05/23/ubuntu-s-files/"/>
    <id>https://mr8god.cn/2020/05/23/ubuntu-s-files/</id>
    <published>2020-05-23T14:38:27.000Z</published>
    <updated>2020-05-23T14:40:21.095Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CodesFromUbuntu"><a href="#CodesFromUbuntu" class="headerlink" title="CodesFromUbuntu"></a>CodesFromUbuntu</h1><blockquote><p>Description：This catalog contains content of “Cmake &amp; make” ,thread examples and Shell scripts.<br>repositories: <a href="https://github.com/Mr8god/CodesFromUbuntu" target="_blank" rel="noopener">https://github.com/Mr8god/CodesFromUbuntu</a></p></blockquote><p><img src="https://i.loli.net/2020/05/23/r1UB8WZe3fh4Axw.jpg" alt="文件目录"></p><h2 id="Cmake-amp-make"><a href="#Cmake-amp-make" class="headerlink" title="Cmake &amp; make"></a>Cmake &amp; make</h2><h3 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h3><p>CMakeFiles、cmake_install.cmake、CMakeCache.txt、CMakeList.txt、Makefile</p><h3 id="Some-ideas"><a href="#Some-ideas" class="headerlink" title="Some ideas"></a>Some ideas</h3><p>1、使用 cmake 增加学习成本（小项目）<br>2、makefile 这么简单都搞不清楚的脑子，还指望搞得清 cmake ?<br>3、cmake 是解决多个编译器的兼容问题，我又不支持 gcc 之外的编译器。<br>4、关键是解决什么问题？你要给白痴用，用 cmake 还要多敲键盘；你要理解构建过程，cmake 多加个间接层，不是更难搞明白？<br>5、你说，你要不出问题吧，cmake 还需要额外安装，还要多敲一行指令；你说要出了问题自己解决吧，cmake 并不解决构建问题，它只是生成其它构建工具的脚本，结果你最终在什么平台出的问题，一样要自己搞清楚 makefile gcc 这些东西怎么用，不然你还是解决不了问题。<br>6、你用 cmake 到底想解决啥问题？cmake 只会更加复杂。<br>7、cmake 解决的是你的项目要在不同平台不同编译器下都可以写一致构建脚本的问题，它要抽象各个不同环境为一致的环境。你必须学习这个抽象方法。<br>8、然后你工作在哪个平台，还是要学习那个平台具体的构建方法。等于你至少要学习两套：一套 cmake 一套你的目标平台。你不跨 3 个平台以上，根本值不回学习成本。<br>9、两个平台的话，你分别学两套就够了，用不着多学 cmake。只学 cmake 没任何用啊，必须加学目标环境的东西。cmake 又不帮你解决编译器怎么开关的问题。<br>10、只学了 cmake 等于什么都没学，构建遇到问题肯定一抹黑。<br>11、cmake 解决的问题和 make 解决的问题是两码事。比如你编译要加个警告开关，你要写在编译指令里，这个不是 cmake 要解决的问题。cmake 帮你解决的是，你在不同环境要做同一个事情，怎么写在同一个脚本分发，它本身不解决具体加什么编译开关的问题。比方说你的编译流程有一步要把一个文件复制到另一个位置，cmake 并不解决拷贝文件的问题，它解决的是让你在 windows 下用 copy ， unix 下用 cp ，怎么把两套指令写在同一套构建文件的问题。<br>12、这是两个层面不同的问题。cmake 解决的只是跨平台和开发环境时，怎么把不同的编译工具的调用方法写在同一套脚本里的问题；并没有解决怎么把项目从源代码构建成目标程序的问题。<br>13、cmake 可能提供了一些默认脚本把一些默认的构建行为写好了给你调用，但是当你要自定义构建行为时，学习成本是很高的。因为你要兼顾各种不同的平台。<br>14、如果你不要跨很多平台，cmake 解决的那个层次的问题对你本来就是不存在的。<br>15、ide 解决的是另一个层次的问题，和 cmake make 更不一样。<br>————————————————<br>版权声明：本文为CSDN博主「TTC」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/liutianshx2012/article/details/80811175" target="_blank" rel="noopener">https://blog.csdn.net/liutianshx2012/article/details/80811175</a></p><h2 id="Thread-example"><a href="#Thread-example" class="headerlink" title="Thread example"></a>Thread example</h2><h3 id="Files-1"><a href="#Files-1" class="headerlink" title="Files"></a>Files</h3><p>demos、example、homework</p><h2 id="Shell-scripts"><a href="#Shell-scripts" class="headerlink" title="Shell scripts"></a>Shell scripts</h2><h3 id="Files-2"><a href="#Files-2" class="headerlink" title="Files"></a>Files</h3><p>scripts</p><p>脚本运行命令分别是：source test.sh 182219605113 和  sh forc.sh</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CodesFromUbuntu&quot;&gt;&lt;a href=&quot;#CodesFromUbuntu&quot; class=&quot;headerlink&quot; title=&quot;CodesFromUbuntu&quot;&gt;&lt;/a&gt;CodesFromUbuntu&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;Descr
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>跟我一起写 Makefile</title>
    <link href="https://mr8god.cn/2020/05/17/%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86/makefile/"/>
    <id>https://mr8god.cn/2020/05/17/%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86/makefile/</id>
    <published>2020-05-17T14:29:05.000Z</published>
    <updated>2020-05-17T14:29:47.480Z</updated>
    
    <content type="html"><![CDATA[<h1 id="跟我一起写-Makefile"><a href="#跟我一起写-Makefile" class="headerlink" title="跟我一起写 Makefile"></a>跟我一起写 Makefile</h1><p> 陈皓</p><p>概述<br>——</p><p>什么是makefile？或许很多Winodws的程序员都不知道这个东西，因为那些Windows的IDE都为你做了这个工作，但我觉得要作一个好的和professional的程序员，makefile还是要懂。这就好像现在有这么多的HTML的编辑器，但如果你想成为一个专业人士，你还是要了解HTML的标识的含义。特别在Unix下的软件编译，你就不能不自己写makefile了，会不会写makefile，从一个侧面说明了一个人是否具备完成大型工程的能力。</p><p>因为，makefile关系到了整个工程的编译规则。一个工程中的源文件不计数，其按类型、功能、模块分别放在若干个目录中，makefile定义了一系列的规则来指定，哪些文件需要先编译，哪些文件需要后编译，哪些文件需要重新编译，甚至于进行更复杂的功能操作，因为makefile就像一个Shell脚本一样，其中也可以执行操作系统的命令。</p><p>makefile带来的好处就是——“自动化编译”，一旦写好，只需要一个make命令，整个工程完全自动编译，极大的提高了软件开发的效率。make是一个命令工具，是一个解释makefile中指令的命令工具，一般来说，大多数的IDE都有这个命令，比如：Delphi的make，Visual C++的nmake，Linux下GNU的make。可见，makefile都成为了一种在工程方面的编译方法。</p><p>现在讲述如何写makefile的文章比较少，这是我想写这篇文章的原因。当然，不同产商的make各不相同，也有不同的语法，但其本质都是在“文件依赖性”上做文章，这里，我仅对GNU的make进行讲述，我的环境是RedHat Linux 8.0，make的版本是3.80。必竟，这个make是应用最为广泛的，也是用得最多的。而且其还是最遵循于IEEE 1003.2-1992 标准的（POSIX.2）。</p><p>在这篇文档中，将以C/C++的源码作为我们基础，所以必然涉及一些关于C/C++的编译的知识，相关于这方面的内容，还请各位查看相关的编译器的文档。这里所默认的编译器是UNIX下的GCC和CC。</p><p>关于程序的编译和链接<br>——————————</p><p>在此，我想多说关于程序编译的一些规范和方法，一般来说，无论是C、C++、还是pas，首先要把源文件编译成中间代码文件，在Windows下也就是 .obj 文件，UNIX下是 .o 文件，即 Object File，这个动作叫做编译（compile）。然后再把大量的Object File合成执行文件，这个动作叫作链接（link）。</p><p>编译时，编译器需要的是语法的正确，函数与变量的声明的正确。对于后者，通常是你需要告诉编译器头文件的所在位置（头文件中应该只是声明，而定义应该放在C/C++文件中），只要所有的语法正确，编译器就可以编译出中间目标文件。一般来说，每个源文件都应该对应于一个中间目标文件（O文件或是OBJ文件）。</p><p>链接时，主要是链接函数和全局变量，所以，我们可以使用这些中间目标文件（O文件或是OBJ文件）来链接我们的应用程序。链接器并不管函数所在的源文件，只管函数的中间目标文件（Object File），在大多数时候，由于源文件太多，编译生成的中间目标文件太多，而在链接时需要明显地指出中间目标文件名，这对于编译很不方便，所以，我们要给中间目标文件打个包，在Windows下这种包叫“库文件”（Library File)，也就是 .lib 文件，在UNIX下，是Archive File，也就是 .a 文件。</p><p>总结一下，源文件首先会生成中间目标文件，再由中间目标文件生成执行文件。在编译时，编译器只检测程序语法，和函数、变量是否被声明。如果函数未被声明，编译器会给出一个警告，但可以生成Object File。而在链接程序时，链接器会在所有的Object File中找寻函数的实现，如果找不到，那到就会报链接错误码（Linker Error），在VC下，这种错误一般是：Link 2001错误，意思说是说，链接器未能找到函数的实现。你需要指定函数的Object File.</p><p>好，言归正传，GNU的make有许多的内容，闲言少叙，还是让我们开始吧。</p><p>Makefile 介绍<br>———————</p><p>make命令执行时，需要一个 Makefile 文件，以告诉make命令需要怎么样的去编译和链接程序。</p><p>首先，我们用一个示例来说明Makefile的书写规则。以便给大家一个感兴认识。这个示例来源于GNU的make使用手册，在这个示例中，我们的工程有8个C文件，和3个头文件，我们要写一个Makefile来告诉make命令如何编译和链接这几个文件。我们的规则是：<br>    1）如果这个工程没有编译过，那么我们的所有C文件都要编译并被链接。<br>    2）如果这个工程的某几个C文件被修改，那么我们只编译被修改的C文件，并链接目标程序。<br>    3）如果这个工程的头文件被改变了，那么我们需要编译引用了这几个头文件的C文件，并链接目标程序。</p><p>只要我们的Makefile写得够好，所有的这一切，我们只用一个make命令就可以完成，make命令会自动智能地根据当前的文件修改的情况来确定哪些文件需要重编译，从而自己编译所需要的文件和链接目标程序。</p><p>一、Makefile的规则</p><p>在讲述这个Makefile之前，还是让我们先来粗略地看一看Makefile的规则。</p><pre><code>target ... : prerequisites ...        command        ...        ...target也就是一个目标文件，可以是Object File，也可以是执行文件。还可以是一个标签（Label），对于标签这种特性，在后续的“伪目标”章节中会有叙述。prerequisites就是，要生成那个target所需要的文件或是目标。command也就是make需要执行的命令。（任意的Shell命令）</code></pre><p>这是一个文件的依赖关系，也就是说，target这一个或多个的目标文件依赖于prerequisites中的文件，其生成规则定义在command中。说白一点就是说，prerequisites中如果有一个以上的文件比target文件要新的话，command所定义的命令就会被执行。这就是Makefile的规则。也就是Makefile中最核心的内容。</p><p>说到底，Makefile的东西就是这样一点，好像我的这篇文档也该结束了。呵呵。还不尽然，这是Makefile的主线和核心，但要写好一个Makefile还不够，我会以后面一点一点地结合我的工作经验给你慢慢到来。内容还多着呢。：）</p><p>二、一个示例</p><p>正如前面所说的，如果一个工程有3个头文件，和8个C文件，我们为了完成前面所述的那三个规则，我们的Makefile应该是下面的这个样子的。</p><pre><code>edit : main.o kbd.o command.o display.o /       insert.o search.o files.o utils.o        cc -o edit main.o kbd.o command.o display.o /                   insert.o search.o files.o utils.omain.o : main.c defs.h        cc -c main.ckbd.o : kbd.c defs.h command.h        cc -c kbd.ccommand.o : command.c defs.h command.h        cc -c command.cdisplay.o : display.c defs.h buffer.h        cc -c display.cinsert.o : insert.c defs.h buffer.h        cc -c insert.csearch.o : search.c defs.h buffer.h        cc -c search.cfiles.o : files.c defs.h buffer.h command.h        cc -c files.cutils.o : utils.c defs.h        cc -c utils.cclean :        rm edit main.o kbd.o command.o display.o /           insert.o search.o files.o utils.o</code></pre><p>反斜杠（/）是换行符的意思。这样比较便于Makefile的易读。我们可以把这个内容保存在文件为“Makefile”或“makefile”的文件中，然后在该目录下直接输入命令“make”就可以生成执行文件edit。如果要删除执行文件和所有的中间目标文件，那么，只要简单地执行一下“make clean”就可以了。</p><p>在这个makefile中，目标文件（target）包含：执行文件edit和中间目标文件（*.o），依赖文件（prerequisites）就是冒号后面的那些 .c 文件和 .h文件。每一个 .o 文件都有一组依赖文件，而这些 .o 文件又是执行文件 edit 的依赖文件。依赖关系的实质上就是说明了目标文件是由哪些文件生成的，换言之，目标文件是哪些文件更新的。</p><p>在定义好依赖关系后，后续的那一行定义了如何生成目标文件的操作系统命令，一定要以一个Tab键作为开头。记住，make并不管命令是怎么工作的，他只管执行所定义的命令。make会比较targets文件和prerequisites文件的修改日期，如果prerequisites文件的日期要比targets文件的日期要新，或者target不存在的话，那么，make就会执行后续定义的命令。</p><p>这里要说明一点的是，clean不是一个文件，它只不过是一个动作名字，有点像C语言中的lable一样，其冒号后什么也没有，那么，make就不会自动去找文件的依赖性，也就不会自动执行其后所定义的命令。要执行其后的命令，就要在make命令后明显得指出这个lable的名字。这样的方法非常有用，我们可以在一个makefile中定义不用的编译或是和编译无关的命令，比如程序的打包，程序的备份，等等。<br>————————————————<br>版权声明：本文为CSDN博主「haoel」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/haoel/article/details/2886" target="_blank" rel="noopener">https://blog.csdn.net/haoel/article/details/2886</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;跟我一起写-Makefile&quot;&gt;&lt;a href=&quot;#跟我一起写-Makefile&quot; class=&quot;headerlink&quot; title=&quot;跟我一起写 Makefile&quot;&gt;&lt;/a&gt;跟我一起写 Makefile&lt;/h1&gt;&lt;p&gt; 陈皓&lt;/p&gt;
&lt;p&gt;概述&lt;br&gt;——&lt;/p
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="工程管理" scheme="https://mr8god.cn/tags/%E5%B7%A5%E7%A8%8B%E7%AE%A1%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>3D视觉技术应用下的智能安防系统思想</title>
    <link href="https://mr8god.cn/2020/05/13/%E6%83%B3%E6%B3%95/3D%E8%A7%86%E8%A7%89%E6%8A%80%E6%9C%AF%E5%BA%94%E7%94%A8%E4%B8%8B%E7%9A%84%E6%99%BA%E8%83%BD%E5%AE%89%E9%98%B2%E7%B3%BB%E7%BB%9F%E6%80%9D%E6%83%B3/"/>
    <id>https://mr8god.cn/2020/05/13/%E6%83%B3%E6%B3%95/3D%E8%A7%86%E8%A7%89%E6%8A%80%E6%9C%AF%E5%BA%94%E7%94%A8%E4%B8%8B%E7%9A%84%E6%99%BA%E8%83%BD%E5%AE%89%E9%98%B2%E7%B3%BB%E7%BB%9F%E6%80%9D%E6%83%B3/</id>
    <published>2020-05-13T14:12:07.000Z</published>
    <updated>2020-05-13T14:39:33.953Z</updated>
    
    <content type="html"><![CDATA[<h1 id="3D视觉技术应用下的智能安防系统思想"><a href="#3D视觉技术应用下的智能安防系统思想" class="headerlink" title="3D视觉技术应用下的智能安防系统思想"></a>3D视觉技术应用下的智能安防系统思想</h1><h2 id="What？"><a href="#What？" class="headerlink" title="What？"></a>What？</h2><p>1.项目设计</p><p>项目主要从基于3D视觉技术的面部识别模块、基于行为分析的AI智能模块两方面体现新型安防系统的主题概念。</p><p>首先对于面部识别模块，我们通过运用当下流行的3D深感摄像头，如Realsense、ZED、PrimeSense等，实现三维图像数据的获取。针对3D视觉技术的优缺点，相应地制定方案，放大其准确度高的优点，进行诸如面部识别进入屋室等能最大化技术优点的操作。对于3D视觉技术所负责的面部识别模块，项目基本设计如下流程图：<img src="https://i.loli.net/2020/05/13/R1kxdtu2ijglnLb.png" alt="3D摄像头开发流程图"></p><p>然后为体现智能模块的智能性，我们对寻常摄像头所捕获的图像进行行为分析，进而建立模型，通过对不同人物行为的分析，我们可以评估得出不同的危险等级，及时提醒本系统用户，做到防范危险于未然。对于基于行为分析的AI智能3D摄像头，项目基本设计如下：</p><p><img src="https://i.loli.net/2020/05/13/uB7LIxFeb38NlDr.png" alt="AI模型开发流程图"></p><h2 id="How-Hard"><a href="#How-Hard" class="headerlink" title="How Hard?"></a>How Hard?</h2><p>目前关于3D视觉技术所应用的摄像头文档资源太少，一切都需要摸索。此外由于摄像头的推广不足，导致由其本身采集的数据较少，无法做到高精度体现。此外关于系统所需要的预测模型缺少，也需要为其合理的设计提供相关强力的理论依据。</p><p>重难点一：三维图像数据的难以分析</p><p>对于三维和二维的差距不可谓不大，目前还没有找到一个合适的方案来进行三维图像数据的分析。</p><p>重难点二：当前技术的限制</p><p>目前理论上最为适合实际应用的三种常用3D技术方案（双目立体视觉、结构光、飞行时间TOF技术）的结合技术尚未有实际产品问世，所以目前的系统还有待提升的空间。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;3D视觉技术应用下的智能安防系统思想&quot;&gt;&lt;a href=&quot;#3D视觉技术应用下的智能安防系统思想&quot; class=&quot;headerlink&quot; title=&quot;3D视觉技术应用下的智能安防系统思想&quot;&gt;&lt;/a&gt;3D视觉技术应用下的智能安防系统思想&lt;/h1&gt;&lt;h2 id=&quot;W
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="想法" scheme="https://mr8god.cn/tags/%E6%83%B3%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Maven</title>
    <link href="https://mr8god.cn/2020/05/07/Maven/"/>
    <id>https://mr8god.cn/2020/05/07/Maven/</id>
    <published>2020-05-07T01:47:38.000Z</published>
    <updated>2020-05-11T00:19:39.919Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><p>​        <strong>Maven</strong>项目对象模型（POM）， 可以通过一小段描述信息来管理项目的构建、报告和文档的项目管理工具软件。<br>​        <strong>Maven</strong>除了以程序构建能力为特色之外，还提供高级项目管理工具。由于<strong>Maven</strong>的缺省构建规则有较高的可重用性能，所以常常用两三行<strong>Maven</strong>构建脚本就可以构建简单的项目。由于<strong>Maven</strong>的面向项目的属性，很多项目发布时都会使用<strong>Maven</strong>，所以目前使用<strong>Maven</strong>技术的比例在持续增长。<br>​        总而言之，<strong>Maven</strong>是一个可以用来构建和管理任何基于Java的项目的工具，主要目标是让开发人员在最短的时间内了解开发工作的完整状态。</p><p>emmmm</p><h2 id="Maven的优点如下"><a href="#Maven的优点如下" class="headerlink" title="Maven的优点如下"></a><strong>Maven</strong>的优点如下</h2><blockquote><p>简化构建过程<br>提供统一的构建系统<br>提供优质的项目信息<br>提供最佳实践开发指南<br>允许透明迁移新功能</p></blockquote><h3 id="简化构建过程"><a href="#简化构建过程" class="headerlink" title="简化构建过程"></a>简化构建过程</h3><p>虽然使用<strong>Maven</strong>时偶尔也需要你对底层细节有所了解！但是，<strong>Maven</strong> 确实屏蔽了很多细节，它已经大大简化了开发人员的工作。</p><h3 id="提供统一的构建系统"><a href="#提供统一的构建系统" class="headerlink" title="提供统一的构建系统"></a>提供统一的构建系统</h3><p><strong>Maven</strong> 使用项目对象模型（<strong>POM</strong>）和一组所有项目共享的插件来构建项目，从而提供统一的构建系统。开发人员使用 <strong>Maven</strong> 构建项目的话，后期维护项目会节省大量时间。</p><h3 id="提供优质的项目信息"><a href="#提供优质的项目信息" class="headerlink" title="提供优质的项目信息"></a>提供优质的项目信息</h3><p><strong>Maven</strong> 提供了大量有用的项目信息，这些信息部分来自您的<strong>POM</strong>，部分来自项目源。例如，<strong>Maven</strong>可以提供：</p><blockquote><p>更改从源代码控制直接创建的日志文档<br>交叉引用的来源<br>邮件列表<br>依赖列表<br>单元测试报告包括报道</p></blockquote><p>由于 <strong>Maven</strong> 改进了提供的信息，所有这些信息对 <strong>Maven</strong> 用户都是透明的。<br>通过 <strong>Maven</strong> 插件，其他产品可以将自己的项目信息兼容 <strong>Maven</strong> 的标准信息，所有信息同样基于<strong>POM</strong>。</p><h3 id="提供最佳实践开发指南"><a href="#提供最佳实践开发指南" class="headerlink" title="提供最佳实践开发指南"></a>提供最佳实践开发指南</h3><p><strong>Maven</strong> 会汇总当前最佳开发实践的原则，并通过 <strong>Maven</strong> 影响其他项目。</p><p>例如，<strong>Maven</strong> 的正常构建周期中的单元测试的规范，执行和报告。</p><p>当前的单元测试最佳实践被用作指导原则：</p><blockquote><p>将测试源代码保存在独立的、并行的源代码树中；</p><p>规范测试用例命名，便于来定位和执行测试；</p><p>为测试用例设置的环境，不依赖与客户化的定制构建和测试准备。</p></blockquote><p><strong>Maven</strong>还旨在工作流程中协助项目开发，如发布管理和问题跟踪。</p><h3 id="允许透明迁移到新功能"><a href="#允许透明迁移到新功能" class="headerlink" title="允许透明迁移到新功能"></a>允许透明迁移到新功能</h3><p>Maven 为 Maven 客户端提供了一种安装更新的简单方法，开发人员可以简单便捷的利用 Maven 的最新特性。</p><p>从第三方或 Maven 安装新的插件变得非常的简单。</p><h2 id="在Java中Maven项目跟Web项目的区别（distinction）"><a href="#在Java中Maven项目跟Web项目的区别（distinction）" class="headerlink" title="在Java中Maven项目跟Web项目的区别（distinction）"></a>在Java中Maven项目跟Web项目的区别（distinction）</h2><h3 id="定义不同："><a href="#定义不同：" class="headerlink" title="定义不同："></a>定义不同：</h3><p><strong>Web</strong>项目是网页的编码，像</p><p><strong>jsp</strong>(<a href="https://baike.baidu.com/item/JSP/141543" target="_blank" rel="noopener">https://baike.baidu.com/item/JSP/141543</a>)<br><strong>servlet</strong>(<a href="https://baike.baidu.com/item/servlet" target="_blank" rel="noopener">https://baike.baidu.com/item/servlet</a>)<br><strong>struts</strong>(<a href="https://baike.baidu.com/item/struts" target="_blank" rel="noopener">https://baike.baidu.com/item/struts</a>)</p><p><strong>Java Maven</strong>项目是<br><strong>AWT</strong>(<a href="https://baike.baidu.com/item/AWT)、**SWING**(https://baike.baidu.com/item/Swing/3286527" target="_blank" rel="noopener">https://baike.baidu.com/item/AWT)、**SWING**(https://baike.baidu.com/item/Swing/3286527</a>)<br>这类的编码</p><h4 id="举例说明："><a href="#举例说明：" class="headerlink" title="举例说明："></a>举例说明：</h4><p>Java不仅是一门编程语言，还是一个平台，通过JRuby和Jython，我们可以在<a href="https://www.baidu.com/s?wd=Java平台&amp;tn=SE_PcZhidaonwhc_ngpagmjz&amp;rsv_dl=gh_pc_zhidao" target="_blank" rel="noopener">Java平台</a>上编写和运行Ruby和Python程序；</p><p>Maven不仅是构建工具，还是一个依赖管理工具和项目信息管理工具；</p><p>web项目是网页的编码项目，需要在服务器上运行。</p><h3 id="作用不同："><a href="#作用不同：" class="headerlink" title="作用不同："></a>作用不同：</h3><p><strong>Java</strong>可以用来编写桌面应用程序、Web应用程序、分布式系统和嵌入式系统应用程序等 ；</p><p><strong>Maven</strong>由项目对象模型、标准集合、项目生命周期和依赖关系管理系统构成，可以经过项目对象模型描述信息来管理项目的构建、报告和文档，还可以生成站点和管理JAR文件；</p><p><strong>web</strong>是建立在Internet上的一种网络服务，包含了超文本、超媒体和超文本传输协议，可以提供图形化的直观的网页浏览界面，信息可以实时更新。</p><h3 id="特点不同"><a href="#特点不同" class="headerlink" title="特点不同"></a>特点不同</h3><p><strong>Java</strong>是一门面向对象编程语言，<strong>Java</strong>具有简单性、面向对象、分布式、健壮性、安全性、平台独立与可移植性、多线程、动态性等特点。</p><p><strong>Maven</strong> 有一个生命周期，当你运行 <strong>mvn install</strong> 的时候被调用，这条命令告诉 <strong>Maven</strong> 执行一系列的有序的步骤，直到到达你指定的生命周期。遍历生命周期旅途中的一个影响就是，<strong>Maven</strong> 运行了许多默认的插件目标，这些目标完成了像编译和创建一个 JAR 文件这样的工作。</p><p><strong>web</strong>即全球广域网，也称为万维网，它是一种基于超文本和<strong>HTTP</strong>的、全球性的、动态交互的、跨平台的分布式图形信息系统。是建立在<strong>Internet</strong>上的一种网络服务，为浏览者在<strong>Internet</strong>上查找和浏览信息提供了图形化的、易于访问的直观界面。</p><h2 id="Maven常用命令"><a href="#Maven常用命令" class="headerlink" title="Maven常用命令"></a>Maven常用命令</h2><p>mvn archetype:generate 创建Maven项目</p><p>mvn compile 编译源代码</p><p>mvn deploy 发布项目</p><p>mvn test-compile 编译测试源代码</p><p>mvn test 运行应用程序中的单元测试</p><p>mvn site 生成项目相关信息的网站</p><p>mvn clean 清除项目目录中的生成结果</p><p>mvn package 根据项目生成的jar</p><p>mvn install 在本地Repository中安装jar</p><p>mvn eclipse:eclipse 生成eclipse项目文件</p><p>mvnjetty:run 启动jetty服务</p><p>mvntomcat:run 启动tomcat服务</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Maven&quot;&gt;&lt;a href=&quot;#Maven&quot; class=&quot;headerlink&quot; title=&quot;Maven&quot;&gt;&lt;/a&gt;Maven&lt;/h1&gt;&lt;p&gt;​        &lt;strong&gt;Maven&lt;/strong&gt;项目对象模型（POM）， 可以通过一小段描述信息来管理
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="项目开发" scheme="https://mr8god.cn/tags/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>基于Springboot的个人博客网站开发</title>
    <link href="https://mr8god.cn/2020/05/04/%E5%9F%BA%E4%BA%8ESpringboot%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91/"/>
    <id>https://mr8god.cn/2020/05/04/%E5%9F%BA%E4%BA%8ESpringboot%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91/</id>
    <published>2020-05-04T15:52:06.000Z</published>
    <updated>2020-05-15T14:03:41.773Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基于Spring-Boot的个人博客"><a href="#基于Spring-Boot的个人博客" class="headerlink" title="基于Spring Boot的个人博客"></a>基于Spring Boot的个人博客</h1><h3 id="涉及技术及工具"><a href="#涉及技术及工具" class="headerlink" title="涉及技术及工具"></a>涉及技术及工具</h3><ul><li>核心框架：SpringBoot</li><li>ORM框架：MyBatis</li><li>MyBatis工具：MyBatis Mapper</li><li>MVC框架：Spring MVC</li><li>模板引擎：Freemarker</li><li>编译辅助插件：Lombok</li><li>CSS框架：BootStrap4.0</li><li>数据库：MySQL</li></ul><p>none</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;基于Spring-Boot的个人博客&quot;&gt;&lt;a href=&quot;#基于Spring-Boot的个人博客&quot; class=&quot;headerlink&quot; title=&quot;基于Spring Boot的个人博客&quot;&gt;&lt;/a&gt;基于Spring Boot的个人博客&lt;/h1&gt;&lt;h3 id=&quot;涉
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java" scheme="https://mr8god.cn/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>观《大国手之才子佳人》有感</title>
    <link href="https://mr8god.cn/2020/05/03/%E5%BD%B1%E8%AF%84/%E8%A7%82%E3%80%8A%E5%A4%A7%E5%9B%BD%E6%89%8B%E4%B9%8B%E6%89%8D%E5%AD%90%E4%BD%B3%E4%BA%BA%E3%80%8B%E6%9C%89%E6%84%9F/"/>
    <id>https://mr8god.cn/2020/05/03/%E5%BD%B1%E8%AF%84/%E8%A7%82%E3%80%8A%E5%A4%A7%E5%9B%BD%E6%89%8B%E4%B9%8B%E6%89%8D%E5%AD%90%E4%BD%B3%E4%BA%BA%E3%80%8B%E6%9C%89%E6%84%9F/</id>
    <published>2020-05-03T14:19:35.000Z</published>
    <updated>2020-05-03T15:14:13.178Z</updated>
    
    <content type="html"><![CDATA[<h1 id="观《大国手之才子佳人》有感"><a href="#观《大国手之才子佳人》有感" class="headerlink" title="观《大国手之才子佳人》有感"></a>观《大国手之才子佳人》有感</h1><p>才子佳人才子佳人，应该有才子也有佳人，这里边的才子毫无疑问，必是我们的范西屏老哥了。佳人的话，先前可能是席佩兰，最后可能就是阿娇了。害，可惜是世事无常，造化弄人。</p><p><img src="https://i.loli.net/2020/05/03/EGBD12AfUtmTiIV.jpg" alt="大国手之才子佳人"></p><h2 id="内容简介"><a href="#内容简介" class="headerlink" title="内容简介"></a>内容简介</h2><p>​        <a href="https://baike.baidu.com/item/范西屏" target="_blank" rel="noopener">范西屏</a>参加<a href="https://baike.baidu.com/item/袁枚" target="_blank" rel="noopener">袁枚</a>举办的随园诗会,看到袁枚轻松挣到大把的银子，非常惊诧。袁枚乘热打铁，开导他，如何把才艺转化为财富。袁枚为把范西屏打造成“棋圣”，派他的首席女弟子<a href="https://baike.baidu.com/item/席佩兰" target="_blank" rel="noopener">席佩兰</a>培训范西屏。她的才艺打动了范西屏。为讨席佩兰喜欢，他拼命学习诗文。范西屏戴着棋圣的光环与出钱的富商对局，挣的盆满钵满。但他对此不屑。只想追求席佩兰。<br>​        不料，席佩兰嫁人。他大病一场。他开始厌恶这一场场的“游戏”。一富商出巨资，买一盘赢他的棋。富商在赛场上的寡廉鲜耻。让他忍无可忍，痛宰富商，挽回荣誉。他从“钱”眼里跳出来后，去追求敢说敢恨的<a href="https://baike.baidu.com/item/阿娇" target="_blank" rel="noopener">阿娇</a>，不想阿娇是袁枚的妾，又一次让他失落。带着遗憾，他离开袁枚的豪宅，回归到自由自在的生活中。</p><h2 id="个人的几处小见解"><a href="#个人的几处小见解" class="headerlink" title="个人的几处小见解"></a>个人的几处小见解</h2><h3 id="袁枚的“不为五斗米折腰，站起身来，挣他个十斗米”"><a href="#袁枚的“不为五斗米折腰，站起身来，挣他个十斗米”" class="headerlink" title="袁枚的“不为五斗米折腰，站起身来，挣他个十斗米”"></a>袁枚的“不为五斗米折腰，站起身来，挣他个十斗米”</h3><p>我是第一次知道袁枚同学居然这么有钱，原来袁枚还是个擅于经营的行家。他的理想是:读书人往往只有两条路，要么是升官发财，要么是穷困潦倒，只能靠卖字教书为生。不得不说袁枚是真的有智慧噻。咳咳，这不是重点。我是想说我从他身上得到的关于做人的人生道理。</p><p>话说我今后到底要不要赚大钱，然后俯首于其他人呢？我想先说一个我今天在b站上看到的东西：学生思维。这是一种一直怀揣正义，非正即恶的思维，由于大概率在学生身上出现，所以叫做学生思维。其实我们往往可以在自己的原则上，再做一些妥协，嗯嗯，这将是我最近一段时间的准则</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;观《大国手之才子佳人》有感&quot;&gt;&lt;a href=&quot;#观《大国手之才子佳人》有感&quot; class=&quot;headerlink&quot; title=&quot;观《大国手之才子佳人》有感&quot;&gt;&lt;/a&gt;观《大国手之才子佳人》有感&lt;/h1&gt;&lt;p&gt;才子佳人才子佳人，应该有才子也有佳人，这里边的才子毫
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>观《大国手之扬州论枰》有感</title>
    <link href="https://mr8god.cn/2020/05/01/%E5%BD%B1%E8%AF%84/%E8%A7%82%E3%80%8A%E5%A4%A7%E5%9B%BD%E6%89%8B%E4%B9%8B%E6%89%AC%E5%B7%9E%E8%AE%BA%E6%9E%B0%E3%80%8B%E6%9C%89%E6%84%9F/"/>
    <id>https://mr8god.cn/2020/05/01/%E5%BD%B1%E8%AF%84/%E8%A7%82%E3%80%8A%E5%A4%A7%E5%9B%BD%E6%89%8B%E4%B9%8B%E6%89%AC%E5%B7%9E%E8%AE%BA%E6%9E%B0%E3%80%8B%E6%9C%89%E6%84%9F/</id>
    <published>2020-05-01T15:59:01.000Z</published>
    <updated>2020-05-02T15:31:42.800Z</updated>
    
    <content type="html"><![CDATA[<h1 id="观《大国手之扬州论枰》有感"><a href="#观《大国手之扬州论枰》有感" class="headerlink" title="观《大国手之扬州论枰》有感"></a>观《大国手之扬州论枰》有感</h1><p>今天是五月二日，小长假的第二天，我看了扬州论枰这部电影。挺好的哈，就是感想不是特别多。</p><p><img src="https://i.loli.net/2020/05/02/Viq6hQMAcIdbf4n.jpg" alt="大国手之扬州论枰"></p><h2 id="内容简介"><a href="#内容简介" class="headerlink" title="内容简介"></a>内容简介</h2><p>​        来自百度百科：天下围棋高手汇聚扬州，争夺“天下第一大国手”之美誉。<a href="https://baike.baidu.com/item/范西屏" target="_blank" rel="noopener">范西屏</a>应邀参加。<a href="https://baike.baidu.com/item/施襄夏" target="_blank" rel="noopener">施襄夏</a>前来助战。路上，施襄夏听说窦明政因揭发江苏粮库亏空案，遭人暗算，危在旦夕。他拜见窦明政，了解详情，亲眼见他被抓进大牢。乾隆也到扬州，暗查此案。被调查的官员层层庇护，极力隐瞒真相。为收集证据，施襄夏出美人计，收集官府的票据。被贪官们察觉，盗走了证据。 乾隆关注着这场棋赛，还要和胜者对局。范西屏和施襄夏决心打败所有对手，面见皇上。道出实情。在施襄夏的助战下，范西屏战胜各路高手，并再次收集到重要证据。范西屏赢得大国手称号，在同乾隆的对局中，俩人珠联璧合，利用棋子的布局，让乾隆看到事情真相。彻底揭开黑幕。使贪官受到惩罚，冤案得以昭雪 。</p><h2 id="个人的基础小见解"><a href="#个人的基础小见解" class="headerlink" title="个人的基础小见解"></a>个人的基础小见解</h2><p>​        对于这部电影，我没啥看法，没有特别好的想法，over</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;观《大国手之扬州论枰》有感&quot;&gt;&lt;a href=&quot;#观《大国手之扬州论枰》有感&quot; class=&quot;headerlink&quot; title=&quot;观《大国手之扬州论枰》有感&quot;&gt;&lt;/a&gt;观《大国手之扬州论枰》有感&lt;/h1&gt;&lt;p&gt;今天是五月二日，小长假的第二天，我看了扬州论枰这部电
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>观《大国手之秦淮风月》有感</title>
    <link href="https://mr8god.cn/2020/05/01/%E5%BD%B1%E8%AF%84/%E8%A7%82%E3%80%8A%E5%A4%A7%E5%9B%BD%E6%89%8B%E4%B9%8B%E7%A7%A6%E6%B7%AE%E9%A3%8E%E6%9C%88%E3%80%8B%E6%9C%89%E6%84%9F/"/>
    <id>https://mr8god.cn/2020/05/01/%E5%BD%B1%E8%AF%84/%E8%A7%82%E3%80%8A%E5%A4%A7%E5%9B%BD%E6%89%8B%E4%B9%8B%E7%A7%A6%E6%B7%AE%E9%A3%8E%E6%9C%88%E3%80%8B%E6%9C%89%E6%84%9F/</id>
    <published>2020-05-01T15:59:01.000Z</published>
    <updated>2020-05-02T15:36:34.869Z</updated>
    
    <content type="html"><![CDATA[<h1 id="观《大国手之秦淮风月》有感"><a href="#观《大国手之秦淮风月》有感" class="headerlink" title="观《大国手之秦淮风月》有感"></a>观《大国手之秦淮风月》有感</h1><p>突然想起来了我小时在CCTV6里看到的一部关于围棋的电影，然后兴致起来了，我就去查了一下，找到了这部很经典的小时候看的电影——大国手系列电影，接下来我讲一下我在2020/5/1这一天看的这第五部——《大国手之秦淮风月》</p><p><img src="https://i.loli.net/2020/05/02/M64kVZdimzBWSun.jpg" alt="大国手之秦淮风月"></p><h2 id="内容简介"><a href="#内容简介" class="headerlink" title="内容简介"></a>内容简介</h2><p>​        本片的开始，是咱们的主角——范西屏，和文学大家袁枚在秦淮河上摆宴席，好不快活。突然，画面一转，出现了一位女子，就是本电影的女主角顾静柳登场了。英雄难过美人关这一句俗语从古至今看来，都是通用的。范西屏于是开始使小计谋啦，不得不说，这一点我佩服，说动手就动手。<br>​        第二部分，为追求顾静柳，范西屏扮作落魄穷书生，用计见到顾静柳，拿出死活题，欲擒故纵，吊足顾静柳下棋的胃口。在其中范西屏被顾静柳的</p><blockquote><p>“洗尽铅华，找个依山傍水的地方，十亩田地，几间茅屋，丈夫老实本分儿女活泼可爱，男耕女织，与世无争，做个贤妻良母”</p></blockquote><p>的 美好想法给打动了，于是，范西屏就认真了。范西屏与顾静柳赌棋，要俩人以身相压。顾静柳欣然答应。</p><p>​        第三部分，范西屏假借天意，赢了第一局。当顾静柳得知对手是范西屏，后悔已来不急。她想出妙招，逼范西屏让她四子，并请出威震江南的高手与他对局。让他输了第二局，形势对范西屏陡然不利。关键局，范西屏先诈败，利用俩位高手的大意，下出很难见到的“盘龙眼”棋局。令所有的人大跌眼镜。封盘后。范西屏神秘消失一夜。第二天，必赢的棋，却出人意料地下成和棋，众人大惑不解。大家推测是范西屏故意让棋，但他不置可否，至今还是个谜。</p><h2 id="个人的几处小见解"><a href="#个人的几处小见解" class="headerlink" title="个人的几处小见解"></a>个人的几处小见解</h2><h3 id="秦淮河初见"><a href="#秦淮河初见" class="headerlink" title="秦淮河初见"></a>秦淮河初见</h3><p>​        讲真，还是挺有魅惑力的，不然顾静柳怎会拿到花魁的名称。说实话，英雄难过美人关，确实自古就存在，我不谈其他，我江某人也有一套自己的审美，有时候确实是按照外貌来办事的，这是我讲真的。我自己还总控制不住。我举个栗子，加入有两个一样的学妹来找我学习技术，一个符合我的审美，另一个反之。那么我确实会在指导的时候，真的对前者有偏心，会花时间去传授我的知识。当然不是说我不教后者了，后者想要在我这里学到和前者一样多的知识，需要她做到真·不耻下问。<br>​        害，没得办法呀。如果有对我表露心迹的小姐姐，我也会直接告诉她我的感觉，害，所以我不就单到现在了嘛。</p><h3 id="顾静柳的“美好生活”"><a href="#顾静柳的“美好生活”" class="headerlink" title="顾静柳的“美好生活”"></a>顾静柳的“美好生活”</h3><blockquote><p>“洗尽铅华，找个依山傍水的地方，十亩田地，几间茅屋，丈夫老实本分儿女活泼可爱，男耕女织，与世无争，做个贤妻良母”</p></blockquote><p>​         想得真的挺美，跟我想到一块去了，可是呢？现实可不是这么友好哦，今天还看到一个朋友发了条“男孩子很现实”的说说。讲了男孩子就因为一点点操作就做出令她不开心的事——直接不理ta了。emmmm，我看到了我自己。<br>​        我对待我初恋的态度就是这样的，当初直接就删了（好像不是我删的）反正直接就完犊子了。跟高中某个心仪小姐姐表露心迹失败后，我也是一删了之，快速度过糟糕的时光。现在我觉得就有点幼稚了。对，我认为这种想法很幼稚。我想当时的范西屏跟当初的我一样，很幼稚，就扑风捉影到一点踪迹（这里的踪迹也可指当初对心仪小姐姐的喜爱之情），然后就心荡神怡了，害。<br>​        我比较赞同之后的袁枚和范西屏说的话，他说，风月场上人的话，是不可以相信的。确实不该相信呢。从袁枚这边知道了顾静柳并非完璧之身，因为常在河边走哪有不湿鞋嘛（这个话题我下面再议）。而且顾静柳做这些事情就是为了增加自己的身价，然后加入豪门。我不对这种行为作评价，我也能理解顾静柳的想法，毕竟谁不想让自己的物质生活过得更好一些呢？<br>​        最后的最后，范西屏一定要早点醒悟呀！！！</p><h3 id="常在河边走哪有不湿鞋"><a href="#常在河边走哪有不湿鞋" class="headerlink" title="常在河边走哪有不湿鞋"></a>常在河边走哪有不湿鞋</h3><p>这个讲的就是咱顾静柳了，烟花红柳之人，当初选了这条路，就已经帮她规划了结局。<br>        顺道再引用一句</p><blockquote><p>勿以善小而不为，勿以恶小而为之</p></blockquote><h3 id="盘龙眼？和棋？"><a href="#盘龙眼？和棋？" class="headerlink" title="盘龙眼？和棋？"></a>盘龙眼？和棋？</h3><p>​        很明显，范西屏绝对让了。换我我也会让，毕竟我绝对不会取一个我喜欢她但是她不喜欢我的人，那绝对不会是真正的幸福。范西屏此时也知道了顾静柳的真实状况，知道了她其实并不如自己想象的那么好。害，我学到了，如果人不愿意，我决不强求。<br>​        我又想到了我今天在知乎上看到的一个事情：<a href="https://www.zhihu.com/answer/1151382032，我简要说一下哈，其实简要不了，建议原文。" target="_blank" rel="noopener">https://www.zhihu.com/answer/1151382032，我简要说一下哈，其实简要不了，建议原文。</a><br>​        一个重点大学研究生毕业网恋了一个专科小姐姐，据他自己讲，是被套路了，然后就在一起了。对小姐姐的形容是”身材真的好，模样真的不是我喜欢的类型“。然后再一次“意外”中，没有克制住自己。之后奉子成婚，再是对老婆各种不满，造成现在的“后悔”。<br>​        讲真，没能克制住自己这一点上，我承认我江某人如果当时遇到这种情况，也是会克制不住的，emmmmm，别问，问就是生理需求。然后我肯定也会走他的老路。<br>​        我说一下，这个事给我带来的不错的点吧</p><ol><li>我未来的wife，一定三观得合到大部分。讲真，为啥很多同学不会去和专科或者非本科同学交流呢？甚至本一都不和本二，清北不会和普通本一。不是说每一个学历等级不会出现很优秀的人，但是出现的比例确实会依次递减。就像大公司宁肯大概率录用名牌毕业生一样，谁有那个闲工夫花很多时间在找人身上，还不如找个概率大一点的群体，找到优秀的人的几率不要太大。如果三观不合的话，就肯定会有很多矛盾，而且矛盾通常还解不开，解释不同，此外学习能力和日常爱好都不一样，属实难办，那就会很糟糕。</li><li>一定要在紧要关头控制住自己，我还是觉得行房事之前首先要双方同意，而且考虑好后果了。孩子一出来就应该是两个人的事情了。当然如果双方都同意了，我觉得房事是可以在婚前做的事情，仅我个人观点。</li></ol><h3 id="暂时就这些了，一点闲聊而已"><a href="#暂时就这些了，一点闲聊而已" class="headerlink" title="暂时就这些了，一点闲聊而已"></a>暂时就这些了，一点闲聊而已</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;观《大国手之秦淮风月》有感&quot;&gt;&lt;a href=&quot;#观《大国手之秦淮风月》有感&quot; class=&quot;headerlink&quot; title=&quot;观《大国手之秦淮风月》有感&quot;&gt;&lt;/a&gt;观《大国手之秦淮风月》有感&lt;/h1&gt;&lt;p&gt;突然想起来了我小时在CCTV6里看到的一部关于围棋的
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Java多线程日记</title>
    <link href="https://mr8god.cn/2020/04/29/Java/Java%E6%97%A5%E8%AE%B0/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%97%A5%E8%AE%B0/"/>
    <id>https://mr8god.cn/2020/04/29/Java/Java%E6%97%A5%E8%AE%B0/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%97%A5%E8%AE%B0/</id>
    <published>2020-04-29T13:18:39.000Z</published>
    <updated>2020-04-28T16:36:35.196Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java多线程日记"><a href="#Java多线程日记" class="headerlink" title="Java多线程日记"></a>Java多线程日记</h1><p>目前应用“双十一”“12306”</p><p>三高：高可用、高性能、高并发</p><h2 id="线程简介"><a href="#线程简介" class="headerlink" title="线程简介"></a>线程简介</h2><p>现实中有很多例子，我们可以同时吃饭听歌，敲代码+听歌</p><p>但是很多看似是多任务，但是在一个时间点我们的大脑还是只做了一件事情</p><p>所以很多时候多线程是模拟的</p><p>真正的多任务是多核操作</p><h3 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h3><p>想象下现实中，三个电器接在同一个电线上，打开任何的电源，都能够同时亮起，同时工作 </p><p>同理，如果没有多线程的话，必须一个等一个先完成，再能去访问，就不能一起访问了</p><p><img src="https://i.loli.net/2020/04/29/DJ1bAlSLjfRqFpt.jpg" alt="有多线程和没有多线程之间的区别"></p><p><strong>解释</strong>：没有多线程的话，main只能一步一步慢慢走。有多线程的话，可以同时有两条路一起走。</p><h3 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h3><ul><li>线程就是独立的执行路径；</li><li>在程序运行时，即使没有自己创建线程，后台也会存在多个线程，如gc线程、主线程；</li><li>main()称之为主线程，为系统的入口点，用于执行整个程序；</li><li>在一个进程中，如果开辟了多个线程，线程的运行由调度器安排调度，调度器是与操作系统紧密相关的，先后顺序是不能人为的干预的；</li><li>对同一份资源操作时，会存在资源抢夺的问题，需要加入并发控制；</li><li>线程会带来额外的开销，如CPU调度时间，并发控制开销；</li><li>每个线程在自己的工作内存交互，加载和存储主内存控制不当会造成数据不一致。</li></ul><p>main()称之为主线程，微系统的入口点，用于执行整个程序。</p><h2 id="线程实现"><a href="#线程实现" class="headerlink" title="线程实现"></a>线程实现</h2><h2 id="线程状态"><a href="#线程状态" class="headerlink" title="线程状态"></a>线程状态</h2><h2 id="线程同步"><a href="#线程同步" class="headerlink" title="线程同步"></a>线程同步</h2><h2 id="生产消费者"><a href="#生产消费者" class="headerlink" title="生产消费者"></a>生产消费者</h2><h2 id="高级主题"><a href="#高级主题" class="headerlink" title="高级主题"></a>高级主题</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java多线程日记&quot;&gt;&lt;a href=&quot;#Java多线程日记&quot; class=&quot;headerlink&quot; title=&quot;Java多线程日记&quot;&gt;&lt;/a&gt;Java多线程日记&lt;/h1&gt;&lt;p&gt;目前应用“双十一”“12306”&lt;/p&gt;
&lt;p&gt;三高：高可用、高性能、高并发&lt;/p&gt;
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java日记" scheme="https://mr8god.cn/tags/Java%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Java多线程日记</title>
    <link href="https://mr8god.cn/2020/04/29/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/"/>
    <id>https://mr8god.cn/2020/04/29/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0/</id>
    <published>2020-04-29T03:18:39.000Z</published>
    <updated>2020-04-28T16:37:50.395Z</updated>
    
    <content type="html"><![CDATA[<h1 id="数据库学习日记"><a href="#数据库学习日记" class="headerlink" title="数据库学习日记"></a>数据库学习日记</h1><h2 id="界面操作（单指SQLServerManagement）"><a href="#界面操作（单指SQLServerManagement）" class="headerlink" title="界面操作（单指SQLServerManagement）"></a>界面操作（单指SQLServerManagement）</h2><p>数据库：创建、删除、分离、附加、生成脚本（架构，数据）</p><p>表：创建、修改、删除</p><p>字段类型介绍：int、bit、datetime、decimal、char/varchar/nvarchar<br>带不带n：</p><ul><li>带n：表示Unicode编码，每个字符占一个字节</li><li>不带n：表示非Unicode编码，英文或数字占一个字节，中文占两个字节</li></ul><p>带不带var：举列子char(5)，要存入’abc’</p><ul><li>不带var：’abc<em> </em>‘    后边会有两个空格（固定式，不可变长度，会在末尾补空格，能用固定就用固定，比如说固定的电话号码长度，这样性能会更高）</li><li>带var：’abc’     后边不带空格（非固定式，可变长度，性能会低一点，但是对于一些长度不定的，比如说姓名，会有奇效）</li></ul><h2 id="利用SQL语句创建数据库"><a href="#利用SQL语句创建数据库" class="headerlink" title="利用SQL语句创建数据库"></a>利用SQL语句创建数据库</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> [<span class="keyword">database</span><span class="string">'s name]</span></span><br><span class="line"><span class="string">on primary</span></span><br><span class="line"><span class="string">                 (</span></span><br><span class="line"><span class="string">                 name = '</span>stuDB_data<span class="string">',</span></span><br><span class="line"><span class="string">                 filename = '</span>D:\stuDB_data.mdf<span class="string">',</span></span><br><span class="line"><span class="string">                 size = 5mb,</span></span><br><span class="line"><span class="string">                 maxsize = 100mb,</span></span><br><span class="line"><span class="string">                 filegrowth = 15%</span></span><br><span class="line"><span class="string">                 )</span></span><br><span class="line"><span class="string">                 </span></span><br><span class="line"><span class="string">log on</span></span><br><span class="line"><span class="string">                 (</span></span><br><span class="line"><span class="string">                 name = '</span>stuDB_logo<span class="string">',</span></span><br><span class="line"><span class="string">                 filename = '</span>D:\stuDB_logo.ldf<span class="string">',</span></span><br><span class="line"><span class="string">                 size = 2mb,</span></span><br><span class="line"><span class="string">                 maxsize = 1mb,</span></span><br><span class="line"><span class="string">                 filegrowth = 15%</span></span><br><span class="line"><span class="string">                 )</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> database_name </span><br><span class="line"><span class="keyword">ON</span>    </span><br><span class="line">&#123;  [ PRIMARY ]  </span><br><span class="line">( </span><br><span class="line">                 <span class="keyword">NAME</span> = logical_file_name ,    </span><br><span class="line">FILENAME = ‘os_file_name’ </span><br><span class="line">[ , <span class="keyword">SIZE</span> = <span class="keyword">size</span>]  </span><br><span class="line">[ , <span class="keyword">MAXSIZE</span> = &#123; max_size | <span class="keyword">UNLIMITED</span> &#125; ] </span><br><span class="line">[ , FILEGROWTH = growth_increment ])</span><br><span class="line">&#125; [ ,...n ] </span><br><span class="line"><span class="keyword">LOG</span> <span class="keyword">ON</span> </span><br><span class="line">&#123;  [ PRIMARY ]  ( </span><br><span class="line">    <span class="keyword">NAME</span> = logical_file_name ,   </span><br><span class="line">FILENAME = ‘os_file_name’ </span><br><span class="line">[ , <span class="keyword">SIZE</span> = <span class="keyword">size</span>] </span><br><span class="line">[ , <span class="keyword">MAXSIZE</span> = &#123; max_size | <span class="keyword">UNLIMITED</span> &#125; ] </span><br><span class="line">[ , FILEGROWTH = growth_increment ])</span><br><span class="line">&#125; [ ,...n ]</span><br></pre></td></tr></table></figure><h2 id="利用SQL语句操作表"><a href="#利用SQL语句操作表" class="headerlink" title="利用SQL语句操作表"></a>利用SQL语句操作表</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;数据库学习日记&quot;&gt;&lt;a href=&quot;#数据库学习日记&quot; class=&quot;headerlink&quot; title=&quot;数据库学习日记&quot;&gt;&lt;/a&gt;数据库学习日记&lt;/h1&gt;&lt;h2 id=&quot;界面操作（单指SQLServerManagement）&quot;&gt;&lt;a href=&quot;#界面操作（单
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="数据库" scheme="https://mr8god.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>搭建我的第一台群晖服务器</title>
    <link href="https://mr8god.cn/2020/04/24/%E6%90%AD%E5%BB%BA%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E5%8F%B0%E7%BE%A4%E6%99%96%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://mr8god.cn/2020/04/24/%E6%90%AD%E5%BB%BA%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E5%8F%B0%E7%BE%A4%E6%99%96%E6%9C%8D%E5%8A%A1%E5%99%A8/</id>
    <published>2020-04-23T16:13:25.594Z</published>
    <updated>2020-04-23T16:13:25.594Z</updated>
    
    <content type="html"><![CDATA[<h1 id="搭建我的第一台群晖服务器"><a href="#搭建我的第一台群晖服务器" class="headerlink" title="搭建我的第一台群晖服务器"></a>搭建我的第一台群晖服务器</h1><p>首先建造群晖专用系统盘</p><p>找一个U盘</p><h2 id="制作系统盘"><a href="#制作系统盘" class="headerlink" title="制作系统盘"></a>制作系统盘</h2><p>Step1：<br>使用DiskGenuis工具将U盘的所有分区都清除掉</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;搭建我的第一台群晖服务器&quot;&gt;&lt;a href=&quot;#搭建我的第一台群晖服务器&quot; class=&quot;headerlink&quot; title=&quot;搭建我的第一台群晖服务器&quot;&gt;&lt;/a&gt;搭建我的第一台群晖服务器&lt;/h1&gt;&lt;p&gt;首先建造群晖专用系统盘&lt;/p&gt;
&lt;p&gt;找一个U盘&lt;/p&gt;
&lt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Java日记——关于HashSet的源码剖析</title>
    <link href="https://mr8god.cn/2020/04/22/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E5%85%B3%E4%BA%8EHashSet%E7%9A%84%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/"/>
    <id>https://mr8god.cn/2020/04/22/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E5%85%B3%E4%BA%8EHashSet%E7%9A%84%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/</id>
    <published>2020-04-22T14:32:52.000Z</published>
    <updated>2020-04-22T15:44:20.488Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java日记——关于HashSet的源码剖析"><a href="#Java日记——关于HashSet的源码剖析" class="headerlink" title="Java日记——关于HashSet的源码剖析"></a>Java日记——关于HashSet的源码剖析</h1><h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>这个我随手整到的一个知识点，确实很值得深挖，我在这其中得到的知识点也远大于其本身，这一点知识让我明白了任何小知识都得深挖源码，收获太大了。</p><p>首先感谢一下带给我思路的知乎答者：<a href="https://www.zhihu.com/question/28414001" target="_blank" rel="noopener">https://www.zhihu.com/question/28414001</a></p><p>下面正式开始我的表演</p><h2 id="首先（看结果）"><a href="#首先（看结果）" class="headerlink" title="首先（看结果）"></a>首先（看结果）</h2><p>以一段代码开始</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.kchaptereleven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/22</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 20:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetOfInteger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Random rnd = <span class="keyword">new</span> Random(<span class="number">47</span>);</span><br><span class="line">        Set&lt;Integer&gt; intset = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++)&#123;</span><br><span class="line">            intset.add(rnd.nextInt(<span class="number">30</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(intset);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是一段平平无奇的，展示<strong>HashSet</strong>魅力的一段代码。代码的意思也很简单，就是让随机生成的0~29的数字存入我们的<strong>Set</strong>当中去。这里边随机了10000次，就意味着有很多很多重复的数字，当然我们大<strong>Set</strong>家族绝对不会包容两个一模一样的玩意儿，所以输出结果很是理想（单指这方面的理想），它就输出了这三十个数字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]</span><br></pre></td></tr></table></figure><p>但是呢，结果却好像有点违背了我们所讲的“<strong>无序</strong>”，这明明是有顺序的一个一个排着输出的呀，啷个嘞就给我说成“<strong>无序</strong>”了呢？顺便展示一下概念</p><blockquote><p>HashSet：一种没有重复元素的无序集合</p></blockquote><p>我先来回答这个问题：我们一般所说的<strong>HashSet</strong>是无序的，但是它既不能保证存储和取出顺序一致， 更不能保证自然顺序一致（按照a-z）</p><p>顺道一提，我《Thinking in Java》书本中的输出是这样的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[15, 8, 23, 16, 7, 22, 9, 21, 6, 1 , 29 , 14, 24, 4, 19, 26, 11, 18, 3, 12, 27, 17, 2, 13, 28, 20, 25, 10, 5, 0]</span><br></pre></td></tr></table></figure><p>现在是不是就很奇妙了，为啥我同一段代码运行出来会是两个不同的结果，一个“<strong>有序</strong>”，一个“<strong>无序</strong>“。其实按照我江某人在C++中的经验来看，这很有可能就是语言版本的问题，这边很有可能就是<strong>JDK版本</strong>的问题，于是我们来分析源码验证我的思路</p><h2 id="然后（分析源码）"><a href="#然后（分析源码）" class="headerlink" title="然后（分析源码）"></a>然后（分析源码）</h2><p>我们首先从程序的第一步——集合元素的存储开始看起，先看<strong>HashSet</strong> 的 <strong>add</strong>方法的源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HashSet 源码节选-JKD8</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们可以看到，<strong>HashSet</strong>直接调用的是<strong>HashMap</strong>的<strong>put</strong>方法，并且将元素<strong>e</strong>放到<strong>map</strong>的<strong>key</strong>位置（保证了唯一性）</p><p>顺着线索继续查看我们的<strong>HashMap</strong>的<strong>put</strong>方法源码:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//HashMap 源码节选-JDK8</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而我们的值在返回前需要经过<strong>HashMap</strong>中的<strong>hash</strong>方法</p><p>接着定位到<strong>hash</strong>方法的源码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">return</span> (key == <span class="keyword">null</span>) ? <span class="number">0</span> : (h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>hash</strong>方法的返回结果中是一句三目运算符，键（<strong>key</strong>）为<strong>null</strong>即返回0，存在则返回后一句的内容</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>)</span><br></pre></td></tr></table></figure><p>重点来了，这个东西叫做“<strong>扰动函数</strong>”</p><h3 id="这个时候断一下我们再来分析一下"><a href="#这个时候断一下我们再来分析一下" class="headerlink" title="这个时候断一下我们再来分析一下"></a>这个时候断一下我们再来分析一下</h3><p><strong>hashCode</strong>是<strong>Object</strong>类中的一个方法，在子类中一般会被重写，而根据我们之前自己给出的程序，暂以<strong>Integer</strong>类型为例，我们来看一下<strong>Integer</strong>中<strong>hashCode</strong>方法的源码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a hash code for this &#123;<span class="doctag">@code</span> Integer&#125;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>  a hash code value for this object, equal to the</span></span><br><span class="line"><span class="comment"> *          primitive &#123;<span class="doctag">@code</span> int&#125; value represented by this</span></span><br><span class="line"><span class="comment"> *          &#123;<span class="doctag">@code</span> Integer&#125; object.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Integer.hashCode(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a hash code for a &#123;<span class="doctag">@code</span> int&#125; value; compatible with</span></span><br><span class="line"><span class="comment"> * &#123;<span class="doctag">@code</span> Integer.hashCode()&#125;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> value the value to hash</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> a hash code value for a &#123;<span class="doctag">@code</span> int&#125; value.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>果然，不出所料，这边真的重写<strong>hashCode</strong>了，<strong>Integer</strong>中<strong>hasCode</strong>方法的返回值就是这个数本身</p><p>注释：其实整数的值因为与整数本身一样唯一，所以它也是一个足够好的散列值呢</p><p>这上面得出的结论就是，下面的<strong>A式</strong>和<strong>B式</strong>是等价的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A：(h = key.hashCode()) ^ (h &gt;&gt;&gt; <span class="number">16</span>)</span><br><span class="line">B：key ^ (h &gt;&gt;&gt; <span class="number">16</span>)</span><br></pre></td></tr></table></figure><p>over，继续回归正途，接下来就是直接进行位运算层面了</p><h2 id="接着（转攻计算散列值——位运算开始了）"><a href="#接着（转攻计算散列值——位运算开始了）" class="headerlink" title="接着（转攻计算散列值——位运算开始了）"></a>接着（转攻计算散列值——位运算开始了）</h2><p>首先不急，先理清思路，这个时候</p><p><strong>HashSet</strong>因为底层使用了<strong>哈希表（链表结合数组）</strong>实现，存储<strong>key</strong>时可以通过一系列运算后得出自己在数组中所处的位置。</p><p>我们在<strong>hashCode</strong>方法中返回到了一个等同于本身值的散列值（证明过程如“然后（分析源码）”中的“这个时候断一下我们再来分析一下”可见）。</p><p>但是呢，考虑到<strong>int</strong>类型数据的范围：-2147483648~2147483647，很明显，这些散列值不能够直接使用，因为内存是没有办法放得下一个40亿长度的数组的。所以它使用了对数组长度进行<strong>取模运算</strong>的解决方法，得余后再作为其数组下标。</p><p>在<strong>JDK7</strong>中，这个被称为<strong>indexFor()</strong>的方法就是用来做这个的。<br>在<strong>JDK8</strong>中，就是一句代码，其实和<strong>JDK7</strong>的一样</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JDK8中</span></span><br><span class="line">(tab.length - <span class="number">1</span>) &amp; hash；</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JDK7中 </span></span><br><span class="line">bucketIndex = indexFor(hash, table.length);</span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">indexFor</span><span class="params">(<span class="keyword">int</span> h, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> h &amp; (length - <span class="number">1</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>顺道加一句</strong>，为什么我们取模运算不用<strong>%</strong>而用<strong>&amp;</strong>呢？因为位运算直接对内存数据进行操作，不需要转成十进制，因此处理速度会非常快，这样就导致了位运算<strong>&amp;</strong>效率要比取模运算<strong>%</strong>高很多。</p><p>看到这边我们就知道了，存储时<strong>key</strong>的下标位置是需要通过<strong>hash</strong>方法和<strong>indexFor()</strong>或<strong>JDK8的类indexFor()</strong>运算得来的。</p><h3 id="正式开始我们的位运算（-amp-）"><a href="#正式开始我们的位运算（-amp-）" class="headerlink" title="正式开始我们的位运算（&amp;）"></a>正式开始我们的位运算（&amp;）</h3><p>我们开始举个例子了</p><p>HashMap中初始长度为16，length - 1 = 15；其二进制表示为 00000000 00000000 00000000 00001111</p><p>而与运算计算方式为：遇0则0，我们随便举一个<strong>key</strong>值</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1111 1111 1010 0101 1111 0000 0011 1100 </span><br><span class="line">&amp; 0000 0000 0000 0000 0000 0000 0000 1111 </span><br><span class="line">---------------------------------------------------- </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 1100</span><br></pre></td></tr></table></figure><p>上面随便举的<strong>key</strong>值就是：1111 1111 1010 0101 1111 0000 0011 1100 </p><p>我们将这32位从中分开，左边16位称作高位，右边16位称作低位，可以看到经过&amp;运算后 结果就是高位全部归0，剩下了低位的最后四位。但是问题就来了，我们按照当前初始长度为默认的16，HashCode值为下图两个，可以看到，在不经过扰动计算时，只进行与(&amp;)运算后 Index值均为 12 这也就导致了哈希冲突</p><p><img src="https://i.loli.net/2020/04/22/HAvmCw7KOF6t3B1.jpg" alt="需要的.jpg"></p><blockquote><p>哈希冲突的简单理解：计划把一个对象插入到散列表（哈希表）中，但是发现这个位置已经被别人的对象给占据了</p></blockquote><p>例子中，两个不同的HashCode值却经过运算后，得到了相同的值，也就代表，他们都需要被放在下标为2的位置</p><p>一般来说，如果数据分布比较广泛，而且存储数据的数组长度比较大，那么哈希冲突就会比较少，否则很高。</p><p>但是，如果像上例中只取最后几位的时候，这可不是什么好事，即使我的数据分布很散乱，但是哈希冲突仍然会很严重。</p><p>别忘了，我们的扰动函数还在前面搁着呢，这个时候它就要发挥强大的作用了,还是使用上面两个发生了哈希冲突的数据，这一次我们加入扰动函数再进行与(&amp;)运算</p><p><img src="https://i.loli.net/2020/04/22/CPfnloXFEBtIJgA.jpg" alt="对哈希冲突的解决2.jpg"></p><blockquote><p>补充 ：&gt;&gt;&gt; 按位右移补零操作符，左操作数的值按右操作数指定的为主右移，移动得到的空位以零填充<br>^     位异或运算，相同则0，不同则1</p></blockquote><p>可以看到，本发生了哈希冲突的两组数据，经过扰动函数处理后，数值变得不再一样了，也就避免了冲突</p><p>其实在<strong>扰动函数</strong>中，将<strong>数据右位移16位</strong>，哈希码的<strong>高位和低位混合</strong>了起来，这也正解决了前面所讲 高位归0，计算只依赖低位最后几位的情况,  这使得高位的一些特征也<strong>对低位产生了影响</strong>，使得<strong>低位的随机性加强</strong>，能更好的<strong>避免冲突</strong></p><h2 id="再然后"><a href="#再然后" class="headerlink" title="再然后"></a>再然后</h2><p>到了这里，我们一步步研究到了这一些知识</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">HashSet <span class="title">add</span><span class="params">()</span> → HashMap <span class="title">put</span><span class="params">()</span> → HashMap <span class="title">hash</span><span class="params">()</span> → <span class="title">HashMap</span> <span class="params">(tab.length - <span class="number">1</span>)</span> &amp; hash；</span></span><br></pre></td></tr></table></figure><p>有了这些知识的铺垫，我对于刚开始自己举的例子又产生了一些疑惑,我使用<strong>for循环</strong>添加一些整型元素进入集合，难道就没有任何一个发生哈希冲突吗，为什么遍历结果是有序输出的，经过简单计算 2 和18这两个值就都是2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;key &#x3D; 2,(length -1) &#x3D; 15 </span><br><span class="line"></span><br><span class="line">h &#x3D; key.hashCode() 0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line">h &gt;&gt;&gt; 16 0000 0000 0000 0000 0000 0000 0000 0000 </span><br><span class="line">hash &#x3D; h^(h &gt;&gt;&gt; 16) 0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line">(tab.length-1)&amp;hash 0000 0000 0000 0000 0000 0000 0000 1111 </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line">------------------------------------------------------------- </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 0010</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;2的十进制结果：2</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;key &#x3D; 18,(length -1) &#x3D; 15</span><br><span class="line"></span><br><span class="line">h &#x3D; key.hashCode() 0000 0000 0000 0000 0000 0000 0001 0010 </span><br><span class="line">h &gt;&gt;&gt; 16 0000 0000 0000 0000 0000 0000 0000 0000 </span><br><span class="line">hash &#x3D; h^(h &gt;&gt;&gt; 16) 0000 0000 0000 0000 0000 0000 0001 0010 </span><br><span class="line">(tab.length-1)&amp;hash 0000 0000 0000 0000 0000 0000 0000 1111 </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line">------------------------------------------------------------- </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;18的十进制结果：2</span><br></pre></td></tr></table></figure><p>按照我们上面的知识，按理应该输出 1 2 18 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 但却仍有序输出了</p><p>这就非常苦恼了，不过我发现了一个有趣的现象，当我的代码如下时</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.kchaptereleven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/22</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 20:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SetOfInteger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Random rnd = <span class="keyword">new</span> Random(<span class="number">47</span>);</span><br><span class="line">        Set&lt;Integer&gt; intset = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)&#123;</span><br><span class="line">            intset.add(rnd.nextInt(<span class="number">30</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(intset);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[5, 8, 13]</span><br></pre></td></tr></table></figure><p>于是我将问题的核心转为了<strong>数组长度问题</strong>，这个就是最终的大Boss了</p><h2 id="最后（大Boss——数组长度）"><a href="#最后（大Boss——数组长度）" class="headerlink" title="最后（大Boss——数组长度）"></a>最后（大Boss——数组长度）</h2><p>继续找到<strong>HashMap</strong>源码，我发现了一个有趣的东西</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The maximum capacity, used if a higher value is implicitly specified</span></span><br><span class="line"><span class="comment"> * by either of the constructors with arguments.</span></span><br><span class="line"><span class="comment"> * MUST be a power of two &lt;= 1&lt;&lt;30.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAXIMUM_CAPACITY = <span class="number">1</span> &lt;&lt; <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The load factor used when none specified in constructor.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">float</span> DEFAULT_LOAD_FACTOR = <span class="number">0.75f</span>;</span><br></pre></td></tr></table></figure><blockquote><p>&lt;&lt; ：按位左移运算符，做操作数按位左移右错作数指定的位数，即左边最高位丢弃，右边补齐0，计算的简便方法就是：把 &lt;&lt; 左面的数据乘以2的移动次幂<br>为什么初始长度为16：1 &lt;&lt; 4 即 1 * 2 ^4 =16; </p></blockquote><p>这里边有一个叫做<strong>加载因子</strong>的东西，他默认值为0.75f，这是什么意思呢，我们来补充一点它的知识：</p><blockquote><p>加载因子就是表示哈希表中元素填满的程度，当表中元素过多，超过加载因子的值时，哈希表会自动扩容，一般是一倍，这种行为可以称作rehashing(再哈希)。<br>加载因子的值设置的越大，添加的元素就会越多，确实空间利用率的到了很大的提升，但是毫无疑问，就面临着哈希冲突的可能性增大，反之，空间利用率造成了浪费，但哈希冲突也减少了，所以我们希望在空间利用率与哈希冲突之间找到一种我们所能接受的平衡，经过一些试验，定在了0.75f</p></blockquote><p>现在可以解决我们上面的疑惑了</p><p>数组初始的实际长度 = 16 * 0.75 = 12</p><p>这代表当我们元素数量增加到12以上时就会发生扩容，当我们上例中for循环添加0-18， 这19个元素时，先保存到前12个到第十三个元素时，超过加载因子，导致数组发生了一次扩容，而扩容以后对应与(&amp;)运算的(tab.length-1)就发生了变化,从16-1 变成了 32-1 即31</p><p>我们来算一下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;key &#x3D; 2,(length -1) &#x3D; 31 </span><br><span class="line">h &#x3D; key.hashCode() 0000 0000 0000 0000 0000 0000 0001 0010 </span><br><span class="line">h &gt;&gt;&gt; 16 0000 0000 0000 0000 0000 0000 0000 0000 </span><br><span class="line">hash &#x3D; h^(h &gt;&gt;&gt; 16) 0000 0000 0000 0000 0000 0000 0001 0010 </span><br><span class="line">(tab.length-1)&amp;hash 0000 0000 0000 0000 0000 0000 0011 1111 </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line">------------------------------------------------------------- </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;十进制结果：2</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;key &#x3D; 18,(length -1) &#x3D; 31 </span><br><span class="line">h &#x3D; key.hashCode() 0000 0000 0000 0000 0000 0000 0001 0010 </span><br><span class="line">h &gt;&gt;&gt; 16 0000 0000 0000 0000 0000 0000 0000 0000 </span><br><span class="line">hash &#x3D; h^(h &gt;&gt;&gt; 16) 0000 0000 0000 0000 0000 0000 0001 0010 </span><br><span class="line">(tab.length-1)&amp;hash 0000 0000 0000 0000 0000 0000 0011 1111 </span><br><span class="line">0000 0000 0000 0000 0000 0000 0000 0010 </span><br><span class="line">------------------------------------------------------------- </span><br><span class="line">0000 0000 0000 0000 0000 0000 0001 0010 </span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;十进制结果：18</span><br></pre></td></tr></table></figure><p>当length -  1 的值发生改变的时候，18的值也变成了本身。</p><p>到这里，才意识到自己之前用2和18计算时 均使用了 length -1 的值为 15是错误的，当时并不清楚<strong>加载因子及它的扩容机制</strong>，这才是导致提出有问题疑惑的根本原因。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p><strong>JDK7</strong>到<strong>JDK8</strong>，其内部发生了一些变化，导致在不同版本<strong>JDK</strong>下运行结果不同，根据上面的分析，我们从<strong>HashSet</strong>追溯到<strong>HashMap</strong>的<strong>hash</strong>算法、加载因子和默认长度。</p><p>由于我们所创建的<strong>HashSet</strong>是<strong>Integer</strong>类型的，这也是最巧的一点，<strong>Integer</strong>类型<strong>hashCode()</strong>的返回值就是其<strong>int</strong>值本身，而存储的时候元素通过一些运算后会得出自己在数组中所处的位置。由于在这一步，其本身即下标(只考虑这一步)，其实已经实现了排序功能，由于<strong>int</strong>类型范围太广，内存放不下，所以对其进行取模运算，为了减少哈希冲突，又在取模前进行了，扰动函数的计算，得到的数作为元素下标，按照<strong>JDK8</strong>下的<strong>hash</strong>算法，以及<strong>load factor</strong>及扩容机制，这就导致数据在经过 <strong>HashMap.hash()</strong>运算后仍然是自己本身的值，且没有发生哈希冲突。</p><p><strong>补充</strong>：对于有序无序的理解</p><p>集合所说的序，是指元素存入集合的顺序，当元素存储顺序和取出顺序一致时就是有序，否则就是无序。 </p><p>并不是说存储数据的时候无序，没有规则，当我们不论使用<strong>for循环</strong>随机数添加元素的时候，还是<strong>for循环</strong>有序添加元素的时候，最后遍历输出的结果均为按照值的大小排序输出，随机添加元素，但结果仍有序输出，这就对照着上面那句，存储顺序和取出顺序是不一致的，所以我们说<strong>HashSet</strong>是无序的，虽然我们按照123的顺序添加元素，结果虽然仍为123，但这只是一种巧合而已。</p><p>所以<strong>HashSet</strong>只是<strong>不保证有序</strong>，并<strong>不是保证无序</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java日记——关于HashSet的源码剖析&quot;&gt;&lt;a href=&quot;#Java日记——关于HashSet的源码剖析&quot; class=&quot;headerlink&quot; title=&quot;Java日记——关于HashSet的源码剖析&quot;&gt;&lt;/a&gt;Java日记——关于HashSet的源码
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java日记" scheme="https://mr8god.cn/tags/Java%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Java日记——持有对象（就是容器啦）</title>
    <link href="https://mr8god.cn/2020/04/20/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E6%8C%81%E6%9C%89%E5%AF%B9%E8%B1%A1%EF%BC%88%E5%B0%B1%E6%98%AF%E5%AE%B9%E5%99%A8%E5%95%A6%EF%BC%89/"/>
    <id>https://mr8god.cn/2020/04/20/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E6%8C%81%E6%9C%89%E5%AF%B9%E8%B1%A1%EF%BC%88%E5%B0%B1%E6%98%AF%E5%AE%B9%E5%99%A8%E5%95%A6%EF%BC%89/</id>
    <published>2020-04-20T13:18:39.000Z</published>
    <updated>2020-04-22T00:48:38.607Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Java日记——持有对象（就是容器啦）"><a href="#Java日记——持有对象（就是容器啦）" class="headerlink" title="Java日记——持有对象（就是容器啦）"></a>Java日记——持有对象（就是容器啦）</h1><p>攒了两天，都在好好看容器类，Java的容器类还只是看了个大概哈，今天给大家带来我初学的Java容器中的<strong>迭代器</strong></p><h2 id="迭代器简介"><a href="#迭代器简介" class="headerlink" title="迭代器简介"></a>迭代器简介</h2><p>迭代器也是一种设计模式，广泛用于情景比如：不需要重写代码就可以应用于不同类型的容器，可能大家不太理解哈，我换句话简单来讲：比如我们原本使用<strong>List</strong>进行编码的，但是后来发现如果能够把相同的代码应用于<strong>Set</strong>，将会显得非常方便，此时我们应该怎么做呢？从头开始编写通用的代码？<strong>nonono</strong>，其实他们只是使用<strong>容器</strong>而已，并不会在乎容器的类型，那么如何才能不重写代码就可以应用于不同类型的容器呢？</p><p>在<strong>Java</strong>中迭代器就是<strong>Iterator</strong>这个东西。迭代器其实也是一个对象，它的工作就是遍历并选择序列中的对象，而客户端程序员不必知道或关心序列底层的结构，就可以使用序列了。</p><p>此外，迭代器通常被称为<strong>轻量级对象</strong>：创建它的代价小。因此，经常可见到对迭代器有些奇怪的限制，例如<strong>Java</strong>中的<strong>Iterator</strong>只能单向移动，这个<strong>Iterator</strong>只能用来：</p><ol><li>使用方法<strong>iterator()</strong>要求容器返回一个<strong>Iterator</strong>。<strong>Iterator</strong>将准备好返回序列的第一个元素。</li><li>使用<strong>next()</strong>获得序列中的下一个元素。</li><li>使用<strong>hasNext()</strong>检查序列中是否还有元素。</li><li>使用<strong>remove()</strong>将迭代器新近返回的元素删除。</li></ol><p>接下来会有代码展示</p><h3 id="代码展示（Iterator）"><a href="#代码展示（Iterator）" class="headerlink" title="代码展示（Iterator）"></a>代码展示（Iterator）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.kchaptereleven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> typeinfo.pets.Pet;</span><br><span class="line"><span class="keyword">import</span> typeinfo.pets.Pets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/20</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 9:59</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleIteration</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Pet&gt; pets = Pets.arrayList(<span class="number">12</span>);</span><br><span class="line">        System.out.println(pets);</span><br><span class="line">        Iterator&lt;Pet&gt; it = pets.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            Pet p = it.next();</span><br><span class="line">            System.out.print(p.id() + <span class="string">":"</span> + p + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="keyword">for</span> (Pet p :</span><br><span class="line">                pets) &#123;</span><br><span class="line">            System.out.print(p.id() + <span class="string">":"</span> + p + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        it = pets.iterator();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)&#123;</span><br><span class="line">            it.next();</span><br><span class="line">            it.remove();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(pets);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这段代码很简单，就一个点是之前没有遇到过的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;Pet&gt; it = pets.iterator();</span><br></pre></td></tr></table></figure><p>这个就是使用<strong>Iterator</strong>来遍历了<strong>pets</strong>了，</p><p>之后我们就可以使用<strong>hasNext()</strong>或<strong>next()</strong>了</p><p>如果你只是向前遍历<strong>List</strong>， 并不打算修改<strong>List</strong>对象本身，那么你可以看到<strong>foreach</strong>语法会显得更加的简洁。</p><p><strong>Iterator</strong>还可以移除由<strong>next()</strong>产生的最后一个元素，这意味着在调用<strong>remove()</strong>之前必须先调用<strong>next()</strong>。同理，我之后的<strong>previous</strong>也是这么个理</p><p>接收对象容器并传递它，从而在每个对象上都执行操作，这种思想就是<strong>Iterator</strong>了，当然我感觉这正是<strong>Java</strong>的精髓。</p><h3 id="代码展示二（不必知晓容器的确切类型）"><a href="#代码展示二（不必知晓容器的确切类型）" class="headerlink" title="代码展示二（不必知晓容器的确切类型）"></a>代码展示二（不必知晓容器的确切类型）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.kchaptereleven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> typeinfo.pets.Pet;</span><br><span class="line"><span class="keyword">import</span> typeinfo.pets.Pets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/20</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 10:41</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CrossContainterIteration</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">(Iterator&lt;Pet&gt; it)</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            Pet p = it.next();</span><br><span class="line">            System.out.print(p.id() + <span class="string">":"</span> + p + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Pet&gt; pets = Pets.arrayList(<span class="number">8</span>);</span><br><span class="line">        LinkedList&lt;Pet&gt; petsLL = <span class="keyword">new</span> LinkedList&lt;Pet&gt;(pets);</span><br><span class="line">        HashSet&lt;Pet&gt; petsHs = <span class="keyword">new</span> HashSet&lt;Pet&gt;(pets);</span><br><span class="line">        TreeSet&lt;Pet&gt; petsTs = <span class="keyword">new</span> TreeSet&lt;Pet&gt;(pets);</span><br><span class="line">        display(pets.iterator());</span><br><span class="line">        display(petsLL.iterator());</span><br><span class="line">        display(petsHs.iterator());</span><br><span class="line">        display(petsTs.iterator());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里边的<strong>display()</strong>方法不包含任何有关它所遍历的序列的类型信息，</p><p>这正展示了<strong>Iterator</strong> 的真正威力：能够将遍历序列的操作与序列底层的结构分离。</p><p>正由于此，我们有时会说：迭代器统一了对容器的访问方式。</p><h2 id="异军突起——ListIterator"><a href="#异军突起——ListIterator" class="headerlink" title="异军突起——ListIterator"></a>异军突起——ListIterator</h2><p><strong>ListIterator</strong>是一个更加强大的<strong>Iterator</strong> 的子类型，它只能用于各种<strong>List</strong>类的访问。尽管<strong>Iterator</strong>只能向前移动，但是<strong>ListIterator</strong>可以双向移动。</p><p><strong>ListIterator</strong>还可以产生相对于迭代器在列表中指向的当前位置的前一个和后一个元素的索引，并且可以使用<strong>set()</strong>方法替换它访问过的最后一个元素。</p><p>你可以通过调用<strong>listIterator(n)</strong>方法产生一个指向<strong>List</strong>开始处的<strong>ListIterator</strong>， 并且还可以通过调用<strong>listIterator(n)</strong>方法创建一个一开始就指向列表索引为<strong>n</strong>的元素处的<strong>ListIterator</strong>。</p><h3 id="代码展示（ListIterator）"><a href="#代码展示（ListIterator）" class="headerlink" title="代码展示（ListIterator）"></a>代码展示（ListIterator）</h3><p>下面举代码展示：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.kchaptereleven;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> typeinfo.pets.Pet;</span><br><span class="line"><span class="keyword">import</span> typeinfo.pets.Pets;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/20</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 20:11</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListIteration</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Pet&gt; pets = Pets.arrayList(<span class="number">8</span>);</span><br><span class="line">        ListIterator&lt;Pet&gt; it = pets.listIterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            System.out.print(it.next() + <span class="string">", "</span> + it.nextIndex() + <span class="string">", "</span> + it.previousIndex() + <span class="string">"; "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="keyword">while</span> (it.hasPrevious())&#123;</span><br><span class="line">            System.out.print(it.previous().id() + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(pets);</span><br><span class="line">        it = pets.listIterator(<span class="number">3</span>);</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            it.next();</span><br><span class="line">            it.set(Pets.randomPet());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(pets );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="代码展示（自个写的倒序）"><a href="#代码展示（自个写的倒序）" class="headerlink" title="代码展示（自个写的倒序）"></a>代码展示（自个写的倒序）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.kchaptereleven.self;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/21</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 21:51</span></span><br><span class="line"><span class="comment"> * 这个代码是《Java编程思想》第十一章持有对象的练习12（3）：</span></span><br><span class="line"><span class="comment"> * 创建并组装一个List,然后再创建第二个具有相同尺寸的List，</span></span><br><span class="line"><span class="comment"> * 将第一个List列表反序插入第二个列表中</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 这里边我的思路是首先用hasNext将LsIterator的指针滑到了容器的最后的位置</span></span><br><span class="line"><span class="comment"> * 然后我再使用previous，一步步，慢慢的往前滑，顺便赋值给int2</span></span><br><span class="line"><span class="comment"> * 其实我大可不必这么复杂，还调用previous，直接for倒序赋值就完事了</span></span><br><span class="line"><span class="comment"> * 但是这么一来我对previous的理解深入了，确实，这段代码中如果没有hasNext的话</span></span><br><span class="line"><span class="comment"> * previous是无法运行的，会报错，会爆越界，确实，我指针指在了第一个，</span></span><br><span class="line"><span class="comment"> * 我还要赋值，拿什么给他赋值呀，over，收获良多</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExerciseTwelve</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; int1 = <span class="keyword">new</span> ArrayList&lt;&gt;(<span class="number">10</span>);</span><br><span class="line">        List&lt;Integer&gt; int2 = <span class="keyword">new</span> ArrayList&lt;&gt;(<span class="number">10</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">            int1.add(i);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        System.out.println(int1);</span></span><br><span class="line">        <span class="keyword">int</span> counter = <span class="number">0</span>;</span><br><span class="line">        ListIterator&lt;Integer&gt; lulala = int1.listIterator();</span><br><span class="line">        <span class="keyword">while</span> (lulala.hasNext()) &#123;</span><br><span class="line">            System.out.print(lulala.next() + <span class="string">"("</span> + counter++ + <span class="string">") , "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">            int2.add(lulala.previous());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(int2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>网上的例子</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.kchaptereleven.self;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/21</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 22:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExerciseTwelveTwolist</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    List&lt;Integer&gt; list1 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(length);</span><br><span class="line">    List&lt;Integer&gt; list2 = <span class="keyword">new</span> ArrayList&lt;Integer&gt;(length);</span><br><span class="line">    ListIterator&lt;Integer&gt; li;</span><br><span class="line">    <span class="comment">// 构造函数，给list1赋值，并且将li指向list1的最末尾的一个元素</span></span><br><span class="line">     ExerciseTwelveTwolist(<span class="keyword">int</span> length)&#123;</span><br><span class="line">        <span class="keyword">this</span>.length = length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; length; i++)&#123;</span><br><span class="line">            list1.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">        li = list1.listIterator(length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 对list2进行初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">list2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (li.hasPrevious())&#123;</span><br><span class="line">            <span class="comment">// 当ListIterator li前面具有元素时，将当前的元素</span></span><br><span class="line">            <span class="comment">// 赋值给list2，并且向前移动（即li.previous的功能）</span></span><br><span class="line">            list2.add(li.previous());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">out1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(list1);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">out2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(list2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">            ExerciseTwelveTwolist ett = <span class="keyword">new</span> ExerciseTwelveTwolist(<span class="number">10</span>);</span><br><span class="line">            ett.list2();</span><br><span class="line">            ett.out1();</span><br><span class="line">            ett.out2();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>再附上作者的一些感悟，over</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">网上查询到其他解决办法，其中通过while(li.hasnext())&#123;li1.next（）;&#125;将li指向list1的末尾，并且对于list2列表的操作也使用了ListIterator（对于后者，我觉得没有必要，此题中对list2本身就应该是一个空的list，对于它的操作仅仅是通过add()方法就可以了，没必要再创建一个listIterator）。感想：最初想通过直接对list进行操作，发现并不可行，list列表只有add（），get（）等方法，事实上是很难做到对其进行类似指针移动的操作，所以日后对于每一个需要操作的list数组进行一些操作，可能都需要用到ListIterator，或者简单的Iterator。在这里也不难理解为什么在这道题中的其它解决方法里，有人会对list2也使用一个listIterator,毕竟对list2也要进行一些操作（尽管这里只需要添加元素就好了）。在编写代码的时候，我总是会想直接把ListIterator直接赋值给List列表，类似于list1&#x3D;li。事实上，这样是行不通的，List列表和迭代器ListIterator之间的关系不存在继承，仅仅是迭代器ListIterator 对Collection进行操作而已。实现赋值则是使用List的add（）方法，调用迭代器Iterator的next（）方法，传入list。（本题中使用的是list2.add(li.previous());）此外，listIterator比iterator更为强大，它可以实现双向移动，也可以直接指向某个具体的元素，而iterator则只能单向移动。最后：思考良久，决定还是不将我的博客设置为私密好了，有人能看必定是好事，发现其中错误更是可喜可贺，本人也是大三学生一枚，想记录一些自己学习过程中的问题，解决方法等，同时也想着，或许能被大神看到？对我一些遗漏之类的进行补充？那自然也能学习到不少</span><br><span class="line">————————————————</span><br><span class="line">版权声明：本文为CSDN博主「qq_41791653」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。</span><br><span class="line">原文链接：https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_41791653&#x2F;article&#x2F;details&#x2F;80004740</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Java日记——持有对象（就是容器啦）&quot;&gt;&lt;a href=&quot;#Java日记——持有对象（就是容器啦）&quot; class=&quot;headerlink&quot; title=&quot;Java日记——持有对象（就是容器啦）&quot;&gt;&lt;/a&gt;Java日记——持有对象（就是容器啦）&lt;/h1&gt;&lt;p&gt;攒了
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java日记" scheme="https://mr8god.cn/tags/Java%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Java日记——接口</title>
    <link href="https://mr8god.cn/2020/04/18/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E6%8E%A5%E5%8F%A3/"/>
    <id>https://mr8god.cn/2020/04/18/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E6%8E%A5%E5%8F%A3/</id>
    <published>2020-04-17T16:29:18.000Z</published>
    <updated>2020-04-17T16:56:39.162Z</updated>
    
    <content type="html"><![CDATA[<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><h2 id="9-3-完全解耦"><a href="#9-3-完全解耦" class="headerlink" title="9.3 完全解耦"></a>9.3 完全解耦</h2><p>假设我们有一组电子滤波器，它们适用于<strong>Apply.process()</strong>方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Apply.process()方法</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.interfaceprocessor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> net.mindview.util.Print.print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apply</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(Processor p, Object s)</span> </span>&#123;</span><br><span class="line">        print(<span class="string">"Using Processor "</span> + p.name() );</span><br><span class="line">        print(p.process(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="电子滤波器代码包在下边"><a href="#电子滤波器代码包在下边" class="headerlink" title="电子滤波器代码包在下边"></a>电子滤波器代码包在下边</h3><h4 id="第一版"><a href="#第一版" class="headerlink" title="第一版"></a>第一版</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Waveform</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.filters;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:16</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Waveform</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> counter;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> id = counter++;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Waveform&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Filter</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.filters;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:17</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getClass().getSimpleName();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Waveform <span class="title">process</span><span class="params">(Waveform input)</span></span>&#123; <span class="keyword">return</span> input; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LowPass</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.filters;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:19</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LowPass</span> <span class="keyword">extends</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> cutoff;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LowPass</span><span class="params">(<span class="keyword">double</span> cutoff)</span></span>&#123; <span class="keyword">this</span>.cutoff = cutoff; &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Waveform <span class="title">process</span><span class="params">(Waveform input)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> input;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HighPass</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.filters;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HighPass</span> <span class="keyword">extends</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> cutoff;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HighPass</span><span class="params">(<span class="keyword">double</span> cutoff)</span></span>&#123; <span class="keyword">this</span>.cutoff = cutoff; &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Waveform <span class="title">process</span> <span class="params">(Waveform input)</span></span>&#123; <span class="keyword">return</span> input; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BandPass</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.filters;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:22</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BandPass</span> <span class="keyword">extends</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">double</span> lowCutoff, highCutoff;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BandPass</span><span class="params">(<span class="keyword">double</span> lowCut, <span class="keyword">double</span> highCut)</span></span>&#123;</span><br><span class="line">        lowCutoff = lowCut;</span><br><span class="line">        highCutoff = highCut;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Waveform <span class="title">process</span><span class="params">(Waveform input)</span> </span>&#123; <span class="keyword">return</span> input; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>虽然<strong>Filter</strong>和<strong>Processor</strong>（代码我贴在这段话下面）具有相同的接口元素（且它们俩输出都是<strong>Waveform</strong>），但是因为<strong>Filter</strong>并非继承自<strong>Processor</strong>因此咱不能将<strong>Filter</strong>用于<strong>Apply.process()</strong>方法，即便这样做可以正常运行。</p><p>出现这个问题就是因为<strong>Apply.process()</strong>方法和<strong>Processor</strong>之间的耦合度太高了，已经超出所需要的程度了，这就使得应该复用<strong>Apply.process()</strong>的代码的时候，复用却被禁止了。</p><h4 id="第二段改良版本"><a href="#第二段改良版本" class="headerlink" title="第二段改良版本"></a>第二段改良版本</h4><p><u>但是如果<strong>Processor</strong>是一个接口，那么这些限制就谈不上限制了，使得你可以复用<strong>Apply.process()</strong>的代码了。</u></p><p>上代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这就是被写成接口的Processor</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.interfaceprocessor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Processor</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Object <span class="title">process</span><span class="params">(Object input)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Apply</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.interfaceprocessor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> net.mindview.util.Print.print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apply</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(Processor p, Object s)</span> </span>&#123;</span><br><span class="line">        print(<span class="string">"Using Processor "</span> + p.name() );</span><br><span class="line">        print(p.process(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>复用代码的<strong>第一种方式</strong>是客户端程序员遵循制定好的接口来编写自己的类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.interfaceprocessor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:43</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">StringProcessor</span> <span class="keyword">implements</span> <span class="title">Processor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getClass().getSimpleName();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">process</span><span class="params">(Object input)</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String s = <span class="string">"If she weighs the same as a duck, she's made of wood"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Apply.process(<span class="keyword">new</span> Upcase(), s);</span><br><span class="line">        Apply.process(<span class="keyword">new</span> Downcase(), s);</span><br><span class="line">        Apply.process(<span class="keyword">new</span> Splitter(), s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Upcase</span> <span class="keyword">extends</span> <span class="title">StringProcessor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">process</span><span class="params">(Object input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ((String) input).toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Downcase</span> <span class="keyword">extends</span> <span class="title">StringProcessor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">process</span><span class="params">(Object input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ((String) input).toLowerCase();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Splitter</span> <span class="keyword">extends</span> <span class="title">StringProcessor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">process</span><span class="params">(Object input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.toString(((String)input).split(<span class="string">" "</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="第三段改良版本"><a href="#第三段改良版本" class="headerlink" title="第三段改良版本"></a>第三段改良版本</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// processor的接口</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.interfaceprocessor;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Processor</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Object <span class="title">process</span><span class="params">(Object input)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Apply的类</span></span><br><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.interfaceprocessor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> net.mindview.util.Print.print;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apply</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(Processor p, Object s)</span> </span>&#123;</span><br><span class="line">        print(<span class="string">"Using Processor "</span> + p.name() );</span><br><span class="line">        print(p.process(s));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.chapternine.interfaceprocessor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.mr8god.chapternine.filters.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FilterAdapter</span> <span class="keyword">implements</span> <span class="title">Processor</span> </span>&#123;</span><br><span class="line">    Filter filter;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FilterAdapter</span><span class="params">(Filter filter)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.filter = filter;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">name</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> filter.name();&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Waveform <span class="title">process</span><span class="params">(Object input)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> filter.process((Waveform)input);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/17</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 23:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FilterProcessor</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Waveform w = <span class="keyword">new</span> Waveform();</span><br><span class="line">        Apply.process(<span class="keyword">new</span> FilterAdapter(<span class="keyword">new</span> LowPass(<span class="number">1.0</span>)), w);</span><br><span class="line">        Apply.process(<span class="keyword">new</span> FilterAdapter(<span class="keyword">new</span> HighPass(<span class="number">2.0</span>)), w);</span><br><span class="line">        Apply.process(<span class="keyword">new</span> FilterAdapter(<span class="keyword">new</span> BandPass(<span class="number">3.0</span>, <span class="number">4.0</span>)), w);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说一下这一次改良的目的为何，在电子滤波器这个例子中，类库是被发现而非被创建的。在这些情况下，可以使用<strong>适配器设计模式</strong>。适配器中的代码将接受你所拥有的接口，并产生你所需要的接口。相当于做了一个二道贩子。</p><p>此外这种方法，<strong>FilterAdapter</strong>的构造器接受你所拥有的接口<strong>Filter</strong>，然后生成具有你所需要的<strong>Processor</strong>接口的对象。</p><p>哦对了，这里边的<strong>FilterAdapter</strong>还用到了<strong>代理</strong>（第七章复用类里边的，是一种介于继承和组合之间的思想）</p><p>将接口从具体实现中<strong>解耦</strong>使得接口可以应用于多种不同的具体实现，因此代码也就更具可复用性。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;接口&quot;&gt;&lt;a href=&quot;#接口&quot; class=&quot;headerlink&quot; title=&quot;接口&quot;&gt;&lt;/a&gt;接口&lt;/h1&gt;&lt;h2 id=&quot;9-3-完全解耦&quot;&gt;&lt;a href=&quot;#9-3-完全解耦&quot; class=&quot;headerlink&quot; title=&quot;9.3 完全解耦&quot;
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java" scheme="https://mr8god.cn/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Java日记——多态</title>
    <link href="https://mr8god.cn/2020/04/16/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E6%80%81/"/>
    <id>https://mr8god.cn/2020/04/16/Java/Java%E6%97%A5%E8%AE%B0/Java%E6%97%A5%E8%AE%B0%E2%80%94%E2%80%94%E5%A4%9A%E6%80%81/</id>
    <published>2020-04-16T14:14:05.000Z</published>
    <updated>2020-04-17T07:02:52.607Z</updated>
    
    <content type="html"><![CDATA[<h1 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h1><h2 id="8-3-1-构造器与多态之构造器的创建顺序"><a href="#8-3-1-构造器与多态之构造器的创建顺序" class="headerlink" title="8.3.1 构造器与多态之构造器的创建顺序"></a>8.3.1 构造器与多态之构造器的创建顺序</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.chaptereight;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> net.mindview.util.Print.print;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/16</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 20:15</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Meal</span></span>&#123;</span><br><span class="line">    Meal()&#123; print(<span class="string">"Meal()"</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bread</span></span>&#123;</span><br><span class="line">    Bread()&#123; print(<span class="string">"Bread()"</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cheese</span></span>&#123;</span><br><span class="line">    Cheese()&#123; print(<span class="string">"Cheese()"</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lettuce</span></span>&#123;</span><br><span class="line">    Lettuce()&#123; print(<span class="string">"Lettuce()"</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lunch</span> <span class="keyword">extends</span> <span class="title">Meal</span></span>&#123;</span><br><span class="line">    Lunch()&#123; print(<span class="string">"Lunch()"</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PortableLunch</span> <span class="keyword">extends</span> <span class="title">Lunch</span></span>&#123;</span><br><span class="line">    PortableLunch()&#123; print(<span class="string">"PortableLunch()"</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sandwich</span> <span class="keyword">extends</span> <span class="title">PortableLunch</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Bread b = <span class="keyword">new</span> Bread();</span><br><span class="line">    <span class="keyword">private</span> Cheese c = <span class="keyword">new</span> Cheese();</span><br><span class="line">    <span class="keyword">private</span> Lettuce l = <span class="keyword">new</span> Lettuce();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Sandwich</span><span class="params">()</span></span>&#123; print(<span class="string">"Sandwich()"</span>);&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">new</span> Sandwich();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 输出结果</span><br><span class="line">Meal()</span><br><span class="line">Lunch()</span><br><span class="line">PortableLunch()</span><br><span class="line">Bread()</span><br><span class="line">Cheese()</span><br><span class="line">Lettuce()</span><br><span class="line">Sandwich()</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/04/16/MsXKb6vqhkrA2ax.png" alt="理解组合继承的构建顺序.png"></p><p>快速做了个图来理解这个东西哈！这里边每个类都有自己的<strong>构造方法</strong>，</p><p>其中最值得关注的就是<strong>Sandwich</strong>类，三个继承关系，（若将<strong>Object</strong>的根继承算上的话，那就是四层继承了）。其中还包括了三个成员对象。当我们在<strong>main()</strong>里边创建好一个<strong>Sandwich</strong>对象后，就可以看到输出结果了</p><h3 id="三条规则"><a href="#三条规则" class="headerlink" title="三条规则"></a>三条规则</h3><p>我先说一下复杂对象调用构造器要遵循的<strong>三条规则</strong>吧</p><ol><li>调用基类构造器。这个步骤会不断地反复递归下去，首先是构造这种层次结构的根，然后是下一层导出类，etc，直到最低层的导出类。</li><li>按声明顺序调用成员的初始化方法。</li><li>调用导出类构造器的主体。</li></ol><p>根据输出结果我们可以看到，它首先输出的就是Meal了，为什么会这样呢？因为根据我<strong>main()</strong>函数里定义的四个东西（三个成员对象和一个成员构造函数）来看我的输出应该是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 输出结果</span><br><span class="line">Bread()</span><br><span class="line">Cheese()</span><br><span class="line">Lettuce()</span><br><span class="line">Sandwich()</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure><p>才对呀。很正常的思维，哈哈哈。不过呢，出现前两个，其实是为了表明，<strong>Meal</strong>类和<strong>Lunch</strong>类在之前先执行了自己的构造函数，而且又因为<strong>Meal</strong>类是<strong>Lunch</strong>类的基类（父类），所以<strong>Meal</strong>类的构造函数在更前面进行了构造了，这正好说明了我之前所说的<strong>三条规则</strong>中的第一条。</p><p>接下来我们输出的就是三小只了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Bread()</span><br><span class="line">Cheese()</span><br><span class="line">Lettuce()</span><br></pre></td></tr></table></figure><p>这符合我们之前说的，按照声明调用<strong>成员**</strong>成员**的初始化方法进行输出了</p><p>最后就是我们的导出类构造器的主体，与之对应的就是我们<strong>输出结果</strong>中的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Sandwich()</span><br></pre></td></tr></table></figure><h3 id="说说心里话"><a href="#说说心里话" class="headerlink" title="说说心里话"></a>说说心里话</h3><p>为什么我们的构造器调用顺序很重要，以至于我专门做了个笔记来讲它呢？</p><p>我们知道当我们导出类（子类）在进行继承的时候，我们是<strong>已经知道了基类（父类）的一切</strong>了，知道它的底细是怎样的呢！不然我们谈何继承呀，只要基类中标注为<strong>protected</strong>和<strong>public</strong>的，都是知道的，这就意味着我们在导出类中，必须假定所有成员<strong>都是有效的</strong>。</p><p>综上所述，我们要确保所有的成员都是有效的，就得从根基做好，先打牢根基，才能走得更远（很像咱们的编程语言学习哦！）。于是我们先启动基类的构造器，确保基类是完好无损的。然后依次向下。</p><p>此外，知道构造器中的所有成员有效也是因为成员对象在类内进行定义的时候，只要有可能，就应该对它们进行初始化。</p><h2 id="8-3-2-继承与清理"><a href="#8-3-2-继承与清理" class="headerlink" title="8.3.2 继承与清理"></a>8.3.2 继承与清理</h2><p>平常我们都是不需要注意清理的问题的，因为毕竟有我们的垃圾处理机制嘛。如果确实遇到了清理的问题，那么就得有心创建<strong>清理方法</strong>了。并且由于是继承的缘故。如果我们有其他作为垃圾回收一部分的特殊清理动作，就必须在导出类中覆盖该<strong>清理方法</strong>。<u>当覆盖被继承类的<strong>清理方法</strong>的时候，务必调用基类版本的<strong>清理方法</strong>，否则，基类的清理就不会发生。</u></p><p>上示范代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.chaptereight;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> net.mindview.util.Print.print;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Characteristic</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String s;</span><br><span class="line">    Characteristic(String s)&#123;</span><br><span class="line">        <span class="keyword">this</span>.s = s;</span><br><span class="line">        print(<span class="string">"Creating Characteristic "</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123;</span><br><span class="line">        print(<span class="string">"disposing Characteristic "</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Description</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String s;</span><br><span class="line">    Description(String s)&#123;</span><br><span class="line">        <span class="keyword">this</span>.s = s;</span><br><span class="line">        print(<span class="string">"Creating Description "</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123;</span><br><span class="line">        print(<span class="string">"disposing Description "</span> + s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LivingCreature</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Characteristic p =</span><br><span class="line">            <span class="keyword">new</span> Characteristic(<span class="string">"is alive"</span>);</span><br><span class="line">    <span class="keyword">private</span> Description t =</span><br><span class="line">            <span class="keyword">new</span> Description(<span class="string">"Basic Living Creature"</span>);</span><br><span class="line">    LivingCreature()&#123;</span><br><span class="line">        print(<span class="string">"LivingCreature()"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123;</span><br><span class="line">        print(<span class="string">"LivingCreature dispose"</span>);</span><br><span class="line">        t.dispose();</span><br><span class="line">        p.dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> <span class="keyword">extends</span> <span class="title">LivingCreature</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Characteristic p =</span><br><span class="line">            <span class="keyword">new</span> Characteristic(<span class="string">"has heart"</span>);</span><br><span class="line">    <span class="keyword">private</span> Description t =</span><br><span class="line">            <span class="keyword">new</span> Description(<span class="string">"Animal not Vegetable"</span>);</span><br><span class="line">    Animal()&#123; print(<span class="string">"Animal()"</span>);&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        print(<span class="string">"Animal dispose"</span>);</span><br><span class="line">        t.dispose();</span><br><span class="line">        p.dispose();</span><br><span class="line">        <span class="keyword">super</span>.dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Amphibian</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Characteristic p =</span><br><span class="line">            <span class="keyword">new</span> Characteristic(<span class="string">"can live in water"</span>);</span><br><span class="line">    <span class="keyword">private</span>  Description t =</span><br><span class="line">            <span class="keyword">new</span> Description(<span class="string">"Both water and land"</span>);</span><br><span class="line">    Amphibian()&#123;</span><br><span class="line">        print(<span class="string">"Amphibian"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        print(<span class="string">"Amphibian dispose"</span>);</span><br><span class="line">        t.dispose();</span><br><span class="line">        p.dispose();</span><br><span class="line">        <span class="keyword">super</span>.dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/16</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 11:19</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Frog</span> <span class="keyword">extends</span> <span class="title">Amphibian</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Characteristic p = <span class="keyword">new</span> Characteristic(<span class="string">"Croaks"</span>);</span><br><span class="line">    <span class="keyword">private</span> Description t = <span class="keyword">new</span> Description(<span class="string">"Eats Bugs"</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Frog</span><span class="params">()</span> </span>&#123; print(<span class="string">"Frog()"</span>);&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        print(<span class="string">"Frog dispose"</span>);</span><br><span class="line">        t.dispose();</span><br><span class="line">        p.dispose();</span><br><span class="line">        <span class="keyword">super</span>.dispose();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Frog frog = <span class="keyword">new</span> Frog();</span><br><span class="line">        print(<span class="string">"Bye!"</span>);</span><br><span class="line">        frog.dispose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 输出结果</span><br><span class="line">Creating Characteristic is alive</span><br><span class="line">Creating Description Basic Living Creature</span><br><span class="line">LivingCreature()</span><br><span class="line">Creating Characteristic has heart</span><br><span class="line">Creating Description Animal not Vegetable</span><br><span class="line">Animal()</span><br><span class="line">Creating Characteristic can live in water</span><br><span class="line">Creating Description Both water and land</span><br><span class="line">Amphibian</span><br><span class="line">Creating Characteristic Croaks</span><br><span class="line">Creating Description Eats Bugs</span><br><span class="line">Frog()</span><br><span class="line">Bye!</span><br><span class="line">Frog dispose</span><br><span class="line">disposing Description Eats Bugs</span><br><span class="line">disposing Characteristic Croaks</span><br><span class="line">Amphibian dispose</span><br><span class="line">disposing Description Both water and land</span><br><span class="line">disposing Characteristic can live in water</span><br><span class="line">Animal dispose</span><br><span class="line">disposing Description Animal not Vegetable</span><br><span class="line">disposing Characteristic has heart</span><br><span class="line">LivingCreature dispose</span><br><span class="line">disposing Description Basic Living Creature</span><br><span class="line">disposing Characteristic is alive</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure><p><img src="https://i.loli.net/2020/04/16/QzUjJZ2p9VoBC5L.png" alt="理解继承与清理.png"></p><p>代码太长，给大家整理了一个<strong>UML类图</strong>，其中<strong>dispose()</strong>就是我用来清理的方法。</p><p>然后呢，我们每个类都包括了<strong>Characteristic</strong>和<strong>Description</strong>这两种类型的成员对象，并且它们必须最终被<strong>销毁</strong>。</p><h3 id="什么是销毁顺序"><a href="#什么是销毁顺序" class="headerlink" title="什么是销毁顺序"></a>什么是销毁顺序</h3><p>谈到<strong>销毁</strong>呀，这里边还得涉及到一个<strong>销毁顺序</strong>，</p><ul><li><p>如果我们遇到某个子对象要依赖于其他对象，那么<strong>销毁的顺序</strong>应该和初始化顺序相反。</p></li><li><p>而对于<strong>字段</strong>，则意味着与声明的顺序相反（因为<strong>字段</strong>的初始化是按照声明的顺序进行的）。</p></li><li>对于基类，首先应该对其导出类进行清理，然后再是基类。</li></ul><p>上面的知识点很简单啦，就是很明白浅显的道理——<strong>先进先出</strong>嘛！</p><p>对于代码的哈，我再来个图解</p><p><img src="https://i.loli.net/2020/04/17/rmxS71Oe8UsAPTR.jpg" alt="清理代码图解.jpg"></p><p>帮助大家理解这是怎样一个过程哈</p><h3 id="代码理解"><a href="#代码理解" class="headerlink" title="代码理解"></a>代码理解</h3><h4 id="首先"><a href="#首先" class="headerlink" title="首先"></a>首先</h4><p>我主函数代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Frog frog = <span class="keyword">new</span> Frog();</span><br></pre></td></tr></table></figure><p>意味着我们开始<strong>Create</strong> <strong>Create</strong> <strong>Create</strong> 了，首先<strong>Frog</strong>中初始化了两个<strong>Characteristic</strong>和<strong>Description</strong>类对象，同时这也是正式开始<strong>Create</strong> <strong>Create</strong> <strong>Create</strong> 了。</p><p>具体我们是会先指向最基本的那个基类<strong>LivingCreature</strong>开始<strong>Create</strong>，然后依次往下，最后到<strong>Frog</strong>结束<strong>Create</strong>。</p><p>输出结果是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Creating Characteristic is alive</span><br><span class="line">Creating Description Basic Living Creature</span><br><span class="line">LivingCreature()</span><br><span class="line">Creating Characteristic has heart</span><br><span class="line">Creating Description Animal not Vegetable</span><br><span class="line">Animal()</span><br><span class="line">Creating Characteristic can live in water</span><br><span class="line">Creating Description Both water and land</span><br><span class="line">Amphibian</span><br><span class="line">Creating Characteristic Croaks</span><br><span class="line">Creating Description Eats Bugs</span><br><span class="line">Frog()</span><br></pre></td></tr></table></figure><h4 id="然后"><a href="#然后" class="headerlink" title="然后"></a>然后</h4><p>我主函数代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">"Bye!"</span>);</span><br></pre></td></tr></table></figure><p>暂时小结一下哈！</p><p>输出结果是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Bye!</span><br></pre></td></tr></table></figure><h4 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h4><p>我主函数代码是这样的：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frog.dispose();</span><br></pre></td></tr></table></figure><p>这是调用了我<strong>Frog</strong>类中的<strong>dispose()</strong>方法，正式开始<strong>dispose</strong> <strong>dispose</strong> <strong>dispose</strong>了。</p><p><strong>dispose</strong>的顺序与之前<strong>Create</strong>的相反。它是先把底层的，最新的那个导出类（子类）先给<strong>dispose</strong>了，依次向上，最后把最终大Boss <strong>LivingCreature</strong>给<strong>dispose</strong>了，很是简单呢！！！只要花点时间看看就能懂的代码呢，以后我就不打算花时间看书看代码了，直接看我的日记不就得了，哈哈哈！</p><h2 id="8-3-2-继承与清理-为之前扫扫盲"><a href="#8-3-2-继承与清理-为之前扫扫盲" class="headerlink" title="8.3.2 继承与清理+为之前扫扫盲"></a>8.3.2 继承与清理+为之前扫扫盲</h2><p>为什么说是扫扫盲呢，难道是说我江某人在之前的学习没有努力？不不不，不是这样子的。在编程语言的学习中，我们其实不能够学完所有，得分一步步，慢慢来才能学习完整个语言，但是呢，我们在学习基础的时候，如果要写一些例子，光靠基础知识是不能够的呀，所以我们就会将后边”较<strong>高级</strong>的知识先拿来用，就好比我们的C++中漂漂亮亮的前三行，刚开始不也是想都不想先输上去为敬嘛。</p><p>好了，还是赶紧上我们的正餐，上代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.mr8god.chaptereight;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> net.mindview.util.Print.print;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shared</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> refcount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> id = counter++;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Shared</span><span class="params">()</span></span>&#123;</span><br><span class="line">        print(<span class="string">"Creating "</span> + <span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRef</span><span class="params">()</span></span>&#123; refcount++; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (--refcount == <span class="number">0</span>)&#123;</span><br><span class="line">            print(<span class="string">"Disposing "</span> + <span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Shared&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Composing</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Shared shared;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> id = counter++;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Composing</span><span class="params">(Shared shared)</span></span>&#123;</span><br><span class="line">        print(<span class="string">"Creating "</span> + <span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">this</span>.shared = shared;</span><br><span class="line">        <span class="keyword">this</span>.shared.addRef();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123;</span><br><span class="line">        print(<span class="string">"disposing "</span> + <span class="keyword">this</span>);</span><br><span class="line">        shared.dispose();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Composing&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Mr8god</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/4/16</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 21:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReferenceCounting</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Shared shared = <span class="keyword">new</span> Shared();</span><br><span class="line">        Composing[] composing = &#123; </span><br><span class="line">                <span class="keyword">new</span> Composing(shared),</span><br><span class="line">                <span class="keyword">new</span> Composing(shared),</span><br><span class="line">                <span class="keyword">new</span> Composing(shared),</span><br><span class="line">                <span class="keyword">new</span> Composing(shared),</span><br><span class="line">                <span class="keyword">new</span> Composing(shared)</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span> (Composing c :</span><br><span class="line">                composing) &#123;</span><br><span class="line">            c.dispose();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这还是一个关于<strong>继承与清理</strong> 的例子，但是它和上一个不同的地方在于<u>这次的代码中<strong>成员对象</strong>存在<strong>与其他一个或多个对象共享</strong>的情况</u>，问题变得复杂起来了。这次就不能简单地调用<strong>dispose()</strong>就能解决了，必须使用<strong>引用计数</strong>来跟踪仍旧访问着共享对象的对象数量。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Creating Shared&#123;id&#x3D;0&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;0&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;1&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;2&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;3&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;4&#125;</span><br><span class="line">disposing Composing&#123;id&#x3D;0&#125;</span><br><span class="line">disposing Composing&#123;id&#x3D;1&#125;</span><br><span class="line">disposing Composing&#123;id&#x3D;2&#125;</span><br><span class="line">disposing Composing&#123;id&#x3D;3&#125;</span><br><span class="line">disposing Composing&#123;id&#x3D;4&#125;</span><br><span class="line">Disposing Shared&#123;id&#x3D;0&#125;</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure><p>这段代码我分三段来讲</p><h3 id="第一段"><a href="#第一段" class="headerlink" title="第一段"></a>第一段</h3><p>在看任何代码之前，我们都要注意<strong>static</strong>这个关键字，因为它总是在任何代码执行之前而被执行。这里就有这么一行代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> counter = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p>主代码中是这一段</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Shared shared = <span class="keyword">new</span> Shared();</span><br></pre></td></tr></table></figure><p>这小小的一段代码直接指向了<strong>Shared</strong>这个类，我们先来看看这个类的代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shared</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> refcount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">long</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> id = counter++;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Shared</span><span class="params">()</span></span>&#123;</span><br><span class="line">        print(<span class="string">"Creating "</span> + <span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRef</span><span class="params">()</span></span>&#123; refcount++; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">dispose</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (--refcount == <span class="number">0</span>)&#123;</span><br><span class="line">            print(<span class="string">"Disposing "</span> + <span class="keyword">this</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Shared&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>开始执行代码了首先它先做了两个变量的初始化</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> refcount = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">long</span> id = counter++;</span><br></pre></td></tr></table></figure><p>这边的变量<strong>refcount</strong>是我们在第三段调用<strong>dispose()</strong>时需要用到的，暂时不看。<br>这里的变量<strong>counter</strong>是我们在第二段正式调用<strong>Create()</strong>时需要用到的，暂时不看。</p><p>接下来，就是第一段的正事了，代码先跑到了<strong>Shared()</strong>方法里，使用<strong>print</strong>方法（过后真正用到该方法，我会贴源码的），方法里的东西有一个是有趣，就是我们在第四章的老朋友<strong>this</strong>了，这边的<strong>this</strong>指的是我们调用它的对象——主函数中的<strong>shared</strong>，哦了，解释完毕。</p><p>看<strong>print</strong>源码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Print</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printnb</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        System.out.print(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PrintStream <span class="title">printf</span><span class="params">(String format, Object... args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> System.out.printf(format, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但是，接下来<strong>print(this)</strong>会干什么呢？<strong>this</strong>相当于一种低级的类，或者说是一种子类。我们可以看到我们的<strong>this</strong>低级类被强转了，或者叫做<strong>向上转型</strong>。成功的称为上流社会<strong>Object</strong>类了。然后理所应当地调用<strong>toString</strong>方法，只不过我们这边重写了这个方法，于是它就按照我们重写的方法执行了，来到了本地的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Shared&#123;"</span> +</span><br><span class="line">            <span class="string">"id="</span> + id +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br></pre></td></tr></table></figure><p>中去，最终实现了输出</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Creating Shared&#123;id&#x3D;0&#125;</span><br></pre></td></tr></table></figure><p>光荣使命！！！没想到以前的一个小小的输出就要涉及这么多东西呀，害，太难了。理解上面的内容，你还需要在心中明确这样一点<strong>system.out.println()都是直接调用toString打印的</strong>。</p><h3 id="第二段"><a href="#第二段" class="headerlink" title="第二段"></a>第二段</h3><p>代码的第二段就是持续的执行我主函数中的<strong>Composing</strong>数组了，里边的五个成员，依次进行初始化。输出结果的原理和第一段一样，</p><p>说一下我们先前没有讲的<strong>counter</strong>变量，这个变量的用途就是计数，然后赋值给<strong>id</strong>然后进行输出的时候变得好看一点的操作，over。<strong>counter</strong>会从1变到5，然后赋值给<strong>id</strong>并进行输出</p><p>但是我们在此基础上增加了一个<strong>“心眼”</strong>，我们还使用<strong>addRef()</strong>方法。该方法的作用就是使咱们的<strong>refcount</strong>凑效，使其开始赋值，从0到5，然后以备我们第三段代码中被用到。</p><p>关于<strong>addRef()</strong>方法，我这边还有点话要说。<br><strong>Composing</strong>类的构造函数和<strong>Shared</strong>类的构造函数出现了一丢丢区别。我们看代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Composing</span><span class="params">(Shared shared)</span></span>&#123;</span><br><span class="line">    print(<span class="string">"Creating "</span> + <span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.shared = shared;</span><br><span class="line">    <span class="keyword">this</span>.shared.addRef();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这边涉及到我们的<strong>this</strong>知识，是关于我<strong>this</strong>的第二种用法，<strong>在构造器中调用构造器</strong>。方法的具体实现是这样子的，<br>首先，由于没有继承关系，我们在<strong>Composing</strong>中设了一个<strong>Shared</strong>的对象。然后该对象就到了我们的构造方法中了<br>然后，我们可以看到我们在构造方法中，是这样调用<strong>Shared</strong>的<strong>addRef</strong>方法的。我们先把传进来的<strong>Shared</strong>赋值给我们的<strong>this.shared</strong>于是把传进来的<strong>Shared</strong>与之前特意设立的<strong>Shared</strong>通过<strong>this</strong>联系在一起。<br>接下来，我们就这样的使用<strong>引用的引用</strong>最终用我们在主函数中的<strong>shared</strong>对象使用了远在天边近在眼前的<strong>Shared</strong>类中的<strong>addRef()</strong>方法，对，你没有听错，就是这样，这就很<strong>Java</strong>——一步一步调用类中的对象，再用对象调用方法，如果中间有一步因为某些原因断掉了，那就很抱歉，就无法实现目标（调用方法）了。</p><p>好啦好啦，当我们运行完所有的第二段代码后，我们会得到一个计数为5的<strong>refcount</strong>变量，以及下面的输出：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Creating Composing&#123;id&#x3D;0&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;1&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;2&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;3&#125;</span><br><span class="line">Creating Composing&#123;id&#x3D;4&#125;</span><br></pre></td></tr></table></figure><h3 id="第三段"><a href="#第三段" class="headerlink" title="第三段"></a>第三段</h3><p>第三段就没啥讲的了，重要的概念理解前两段都讲完了，这边就是单独又引用了一个<strong>dispose</strong>方法。然后输出了，平平无奇！</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>对了，对了，在将一个共享对象附着到类上时，必须记得调用<strong>addRef()</strong>但是<strong>disposing()</strong>将跟踪引用数<strong>refcount</strong>，并决定何时执行清理。使用这种技巧需要加倍地细心，但是如果你正在共享需要清理的对象，那么你就会陷入很麻烦的境地，就更要细心了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;多态&quot;&gt;&lt;a href=&quot;#多态&quot; class=&quot;headerlink&quot; title=&quot;多态&quot;&gt;&lt;/a&gt;多态&lt;/h1&gt;&lt;h2 id=&quot;8-3-1-构造器与多态之构造器的创建顺序&quot;&gt;&lt;a href=&quot;#8-3-1-构造器与多态之构造器的创建顺序&quot; class=&quot;he
      
    
    </summary>
    
    
      <category term="技术" scheme="https://mr8god.cn/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Java日记" scheme="https://mr8god.cn/tags/Java%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
</feed>
